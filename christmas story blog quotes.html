<!DOCTYPE html>
<!--
  ========================================================================
  COPYRIGHT © Pawan Nayar for Beyond Dictionary
  Interactive Christmas Celebration Page
  ========================================================================
-->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- ========== 12 SEO META TAGS ========== -->
  <title>The Season of Light: 101 Christmas Quotes, Trivia & Traditions | HeppyU</title>

  <!-- 1. Primary Description -->
  <meta name="description" content="101 curated Christmas quotes, 51 sensory micro-moments, global traditions quiz, and interactive holiday journey. From Dickens to Dr. Seuss, explore the universal spirit of winter celebrations.">

  <!-- 2. Keywords -->
  <meta name="keywords" content="Christmas quotes, holiday inspiration, winter solstice, Christmas traditions, festive quotes, Dickens Christmas quotes, holiday trivia, Christmas spirit, winter celebration, global holiday traditions">

  <!-- 3. Author -->
  <meta name="author" content="HeppyU">

  <!-- 4. Robots -->
  <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large">

  <!-- 5. Language -->
  <meta name="language" content="English">

  <!-- 6. Revisit -->
  <meta name="revisit-after" content="7 days">

  <!-- 7. Open Graph Title -->
  <meta property="og:title" content="The Season of Light: 101 Christmas Quotes & Holiday Traditions">

  <!-- 8. Open Graph Description -->
  <meta property="og:description" content="Curated Christmas wisdom from classic authors to modern voices. Interactive quizzes, global trivia, and sensory micro-moments.">

  <!-- 9. Open Graph Type -->
  <meta property="og:type" content="article">

  <!-- 10. Open Graph Locale -->
  <meta property="og:locale" content="en_US">

  <!-- 11. Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="The Season of Light: Christmas Quotes & Traditions">
  <meta name="twitter:description" content="101 Christmas quotes, holiday trivia, and interactive seasonal journey.">

  <!-- 12. Canonical & Mobile -->
  <meta name="theme-color" content="#c41e3a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="canonical" href="https://heppyu.com/season-of-light">

  <!-- Schema.org Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "The Season of Light: 101 Christmas Quotes & Holiday Traditions",
    "description": "Comprehensive collection of Christmas quotes and winter celebration wisdom",
    "author": {"@type": "Organization", "name": "HeppyU"},
    "inLanguage": "en"
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {"@type": "Question", "name": "Why is Christmas celebrated on December 25th?", "acceptedAnswer": {"@type": "Answer", "text": "December 25th was chosen in the 4th century to coincide with pagan winter solstice festivals, making it easier for populations to adopt the holiday while keeping cherished traditions."}},
      {"@type": "Question", "name": "What is the origin of the Christmas tree?", "acceptedAnswer": {"@type": "Answer", "text": "Evergreen trees were symbols of eternal life in ancient cultures. The modern Christmas tree tradition began in 16th-century Germany."}},
      {"@type": "Question", "name": "Why do we give gifts at Christmas?", "acceptedAnswer": {"@type": "Answer", "text": "Gift-giving has roots in the Roman Saturnalia festival and represents the joy of generosity. It releases oxytocin in both giver and receiver."}}
    ]
  }
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --text: #1a1a2e;
      --text-light: #374151;
      --text-muted: #6b7280;
      --bg: #ffffff;
      --bg-warm: #fef7f0;
      --bg-cool: #f8fafc;
      --muted: #f1f5f9;
      --border: #e5e7eb;

      /* Christmas Color Palette */
      --primary: #c41e3a;
      --primary-dark: #9b1b30;
      --primary-soft: #fef2f2;

      --secondary: #0f4c3a;
      --secondary-light: #166534;

      --accent: #d4a574;
      --accent-soft: #fef3c7;

      --gold: #d4a574;
      --snow: #f8fafc;

      --font-main: 'Inter', -apple-system, sans-serif;
      --font-display: 'Playfair Display', serif;

      --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
      --shadow-lg: 0 12px 40px rgba(0,0,0,0.12);

      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 20px;
      --radius-xl: 28px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { scroll-behavior: smooth; font-size: 16px; overflow-x: hidden; }
    body {
      font-family: var(--font-main);
      color: var(--text);
      background: var(--bg);
      line-height: 1.8;
    }

    h1, h2, h3, h4 { font-family: var(--font-display); font-weight: 700; line-height: 1.3; }
    h1 { font-size: clamp(1.8rem, 5vw, 2.8rem); }
    h2 { font-size: clamp(1.4rem, 4vw, 2rem); margin-bottom: 1rem; }
    h3 { font-size: clamp(1.1rem, 3vw, 1.4rem); }

    p { margin-bottom: 1rem; font-size: 1.05rem; word-wrap: break-word; }
    a { color: var(--primary); text-decoration: none; }

    .container { max-width: 800px; margin: 0 auto; padding: 0 20px; }
    .container-wide { max-width: 1000px; margin: 0 auto; padding: 0 20px; }
    section { padding: 3.5rem 0; }

    /* ========== HEADER ========== */
    header {
      background: linear-gradient(135deg, var(--secondary) 0%, #0a3d2e 50%, #052e22 100%);
      color: white;
      padding: 2.5rem 0 3.5rem;
      position: relative;
      overflow: hidden;
    }
    header::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      opacity: 0.5;
    }
    .header-content { position: relative; z-index: 1; text-align: center; }
    .header-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(196,30,58,0.2);
      backdrop-filter: blur(10px);
      padding: 8px 16px;
      border-radius: 50px;
      font-size: 0.85rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(196,30,58,0.3);
    }
    .header-badge .pulse {
      width: 8px; height: 8px;
      background: var(--primary);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(1.2); }
    }
    header h1 { margin-bottom: 1rem; text-shadow: 0 2px 20px rgba(0,0,0,0.3); }
    header h1 span { color: var(--gold); }
    .header-subtitle {
      font-size: 1.1rem;
      opacity: 0.95;
      max-width: 600px;
      margin: 0 auto 2rem;
      line-height: 1.7;
    }

    .header-stats {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      flex-wrap: wrap;
      margin-top: 1.5rem;
    }
    .stat-item { text-align: center; }
    .stat-number {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--gold);
    }
    .stat-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      opacity: 0.8;
    }

    /* ========== NAV ========== */
    .nav-section {
      background: var(--secondary);
      padding: 0.75rem 0;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: var(--shadow-sm);
    }
    .nav-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px;
    }
    .nav-logo {
      font-weight: 700;
      font-size: 1rem;
      color: #fff;
    }
    .hamburger {
      display: none;
      background: none;
      border: 1px solid rgba(255,255,255,0.4);
      color: #fff;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 1.1rem;
    }
    .nav-scroll {
      display: flex;
      gap: 8px;
      overflow-x: auto;
      padding: 8px 0;
      scrollbar-width: none;
      flex-wrap: wrap;
      justify-content: center;
    }
    .nav-scroll::-webkit-scrollbar { display: none; }
    .nav-pill {
      flex-shrink: 0;
      padding: 8px 14px;
      border-radius: 50px;
      font-size: 0.8rem;
      font-weight: 600;
      background: rgba(255,255,255,0.1);
      color: #ced4da;
      border: none;
      cursor: pointer;
      transition: all 0.2s ease;
      white-space: nowrap;
    }
    .nav-pill:hover { background: rgba(255,255,255,0.2); color: #fff; }
    .nav-pill.active { background: var(--primary); color: white; }

    @media (max-width: 768px) {
      .hamburger { display: block; }
      .nav-scroll {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--secondary);
        flex-direction: column;
        gap: 0;
        padding: 8px 0;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        max-height: 70vh;
        overflow-y: auto;
      }
      .nav-scroll.open { display: flex; }
      .nav-pill {
        width: 100%;
        border-radius: 0;
        padding: 14px 20px;
        text-align: left;
        border-bottom: 1px solid rgba(255,255,255,0.1);
      }
    }

    /* ========== INTRO ========== */
    .intro-section {
      background: linear-gradient(180deg, var(--bg-warm) 0%, var(--bg) 100%);
      padding: 3rem 0;
    }
    .intro-box {
      background: white;
      border: 2px solid var(--primary);
      border-radius: var(--radius-lg);
      padding: 2rem;
      margin-bottom: 2rem;
    }
    .intro-box h3 {
      color: var(--primary);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .simple-list {
      list-style: none;
      padding: 0;
    }
    .simple-list li {
      padding: 8px 0;
      padding-left: 28px;
      position: relative;
      font-size: 1.05rem;
    }
    .simple-list li::before {
      content: '✦';
      position: absolute;
      left: 0;
      color: var(--secondary);
      font-weight: bold;
    }

    /* ========== FEATURED QUOTE ========== */
    .featured-quote {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
      padding: 2.5rem 2rem;
      border-radius: var(--radius-xl);
      text-align: center;
      margin: 2rem 0;
      position: relative;
      box-shadow: var(--shadow-lg);
    }
    .featured-quote::before {
      content: '"';
      position: absolute;
      top: -10px; left: 20px;
      font-size: 8rem;
      opacity: 0.15;
      line-height: 1;
      font-family: var(--font-display);
    }
    .featured-quote blockquote {
      font-size: clamp(1.2rem, 4vw, 1.6rem);
      font-style: italic;
      margin-bottom: 1rem;
      position: relative;
      z-index: 1;
      font-family: var(--font-display);
    }
    .featured-quote cite {
      font-style: normal;
      font-size: 1rem;
      opacity: 0.95;
    }

    /* ========== QUOTE ACCORDIONS ========== */
    .quote-accordion {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .quote-acc-item {
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      overflow: hidden;
      background: #fff;
    }
    .quote-acc-header {
      width: 100%;
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 14px 16px;
      background: var(--muted);
      border: none;
      cursor: pointer;
      text-align: left;
      font-size: 0.95rem;
      font-weight: 600;
      color: var(--text);
      transition: all 0.2s ease;
    }
    .quote-acc-header:hover { background: #e9ecef; }
    .quote-acc-item.open .quote-acc-header { background: var(--primary-soft); border-bottom: 1px solid var(--border); }
    .quote-acc-emoji { font-size: 1.4rem; flex-shrink: 0; }
    .quote-acc-title { flex: 1; }
    .quote-acc-count { font-size: 0.75rem; color: var(--text-muted); font-weight: 500; }
    .quote-acc-icon { font-size: 1rem; color: var(--text-muted); transition: transform 0.2s; }
    .quote-acc-item.open .quote-acc-icon { transform: rotate(180deg); }

    .quote-acc-body {
      display: none;
      padding: 16px;
      background: #fff;
    }
    .quote-acc-item.open .quote-acc-body { display: block; }

    .quote-acc-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .quote-acc-quote {
      padding: 12px;
      background: var(--muted);
      border-radius: 8px;
      border-left: 3px solid var(--primary);
    }
    .quote-acc-text {
      font-style: italic;
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 6px;
      color: var(--text);
    }
    .quote-acc-author {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--primary-dark);
    }

    @media (min-width: 768px) {
      .quote-accordion.two-col {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }
      .quote-accordion.two-col .quote-acc-item.open {
        grid-column: 1 / -1;
      }
    }

    /* ========== QUIZ SECTION ========== */
    .quiz-section {
      background: linear-gradient(135deg, #fef2f2 0%, #fce7e7 100%);
      padding: 3.5rem 0;
    }
    .quiz-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .quiz-subtitle { text-align: center; color: var(--text-light); margin-bottom: 2rem; }

    .quiz-container {
      background: white;
      border-radius: var(--radius-xl);
      padding: 2rem;
      max-width: 600px;
      margin: 0 auto;
      box-shadow: var(--shadow-lg);
    }
    .quiz-progress {
      height: 8px;
      background: var(--muted);
      border-radius: 50px;
      overflow: hidden;
      margin-bottom: 0.5rem;
    }
    .quiz-progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--primary-dark));
      width: 20%;
      transition: width 0.4s ease;
      border-radius: 50px;
    }
    .quiz-progress-text {
      text-align: center;
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 1.5rem;
    }
    .quiz-question {
      display: none;
      animation: fadeIn 0.4s ease;
    }
    .quiz-question.active { display: block; }
    .quiz-question h3 {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
      text-align: center;
      line-height: 1.5;
    }
    .quiz-options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .quiz-option {
      padding: 1rem 1.25rem;
      background: var(--muted);
      border: 2px solid transparent;
      border-radius: var(--radius-md);
      font-size: 1rem;
      text-align: left;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .quiz-option:hover {
      border-color: var(--primary);
      background: var(--primary-soft);
    }
    .quiz-option.selected {
      border-color: var(--primary);
      background: var(--primary-soft);
    }
    .quiz-result {
      display: none;
      text-align: center;
      animation: fadeIn 0.5s ease;
    }
    .quiz-result.active { display: block; }
    .result-icon { font-size: 4rem; margin-bottom: 1rem; }
    .quiz-result h3 {
      font-size: 1.6rem;
      color: var(--primary);
      margin-bottom: 0.5rem;
    }
    .quiz-result > p {
      color: var(--text-light);
      margin-bottom: 1.5rem;
    }
    .result-quotes {
      background: var(--muted);
      border-radius: var(--radius-md);
      padding: 1.25rem;
      margin-bottom: 1.5rem;
      text-align: left;
    }
    .result-quotes .rq-item {
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--border);
      font-style: italic;
    }
    .result-quotes .rq-item:last-child { border-bottom: none; }
    .result-quotes .rq-author {
      font-style: normal;
      font-weight: 600;
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-top: 0.25rem;
    }
    .quiz-restart {
      padding: 12px 28px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .quiz-restart:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ========== MOUNTAIN SVG SECTION ========== */
    .svg-section {
      background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
      padding: 3.5rem 0;
      color: white;
    }
    .svg-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .svg-subtitle { text-align: center; opacity: 0.85; margin-bottom: 2rem; }

    .mountain-container {
      max-width: 800px;
      margin: 0 auto;
      position: relative;
    }
    .mountain-svg {
      width: 100%;
      height: auto;
      display: block;
    }
    .milestone { cursor: pointer; transition: transform 0.2s ease; }
    .milestone:hover { transform: scale(1.1); }
    .milestone-circle { transition: all 0.3s ease; }
    .milestone:hover .milestone-circle { filter: url(#glow) brightness(1.2); }

    .climb-path {
      stroke-dashoffset: 1000;
      animation: drawPath 3s ease forwards;
    }
    @keyframes drawPath {
      to { stroke-dashoffset: 0; }
    }

    .stars circle {
      animation: twinkle 2s ease-in-out infinite;
    }
    .stars circle:nth-child(2) { animation-delay: 0.3s; }
    .stars circle:nth-child(3) { animation-delay: 0.6s; }
    .stars circle:nth-child(4) { animation-delay: 0.9s; }
    .stars circle:nth-child(5) { animation-delay: 1.2s; }
    @keyframes twinkle {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    .milestone-popup {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
    }
    .milestone-popup.active { display: block; animation: popIn 0.3s ease; }
    @keyframes popIn {
      from { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
      to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    }
    .popup-content {
      background: white;
      color: var(--text);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      min-width: 280px;
      max-width: 350px;
      box-shadow: var(--shadow-lg);
      text-align: center;
      position: relative;
    }
    .popup-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--text-muted);
    }
    .popup-stage {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--primary);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .popup-quote {
      font-style: italic;
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: 0.75rem;
    }
    .popup-author {
      font-weight: 600;
      color: var(--text-light);
    }

    /* ========== POLL SECTION ========== */
    .poll-section {
      background: var(--bg);
      padding: 3.5rem 0;
    }
    .poll-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .poll-subtitle { text-align: center; color: var(--text-light); margin-bottom: 2rem; }

    .polls-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }
    .poll-card {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      box-shadow: var(--shadow-sm);
    }
    .poll-card h4 {
      font-size: 1.1rem;
      margin-bottom: 1.25rem;
      text-align: center;
    }
    .poll-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .poll-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      background: var(--muted);
      border: 2px solid transparent;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: left;
      position: relative;
      overflow: hidden;
    }
    .poll-option:hover {
      border-color: var(--primary);
    }
    .poll-option.voted {
      border-color: var(--secondary);
      background: #dcfce7;
    }
    .poll-option-text {
      flex: 1;
      font-size: 0.9rem;
      z-index: 1;
    }
    .poll-bar {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 100%;
      z-index: 0;
    }
    .poll-fill {
      display: block;
      height: 100%;
      background: var(--primary-soft);
      width: 0;
      transition: width 0.6s ease;
      border-radius: var(--radius-sm);
    }
    .poll-card.revealed .poll-fill {
      width: var(--fill-width, 0%);
    }
    .poll-percent {
      font-weight: 700;
      font-size: 0.85rem;
      color: var(--primary);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1;
    }
    .poll-card.revealed .poll-percent { opacity: 1; }
    .poll-total {
      text-align: center;
      margin-top: 1rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    /* ========== TREE SVG SECTION ========== */
    .tree-section {
      background: linear-gradient(180deg, #ecfdf5 0%, #d1fae5 100%);
      padding: 3.5rem 0;
    }
    .tree-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .tree-subtitle { text-align: center; color: var(--text-light); margin-bottom: 2rem; }

    .tree-container {
      max-width: 600px;
      margin: 0 auto;
      position: relative;
    }
    .tree-svg {
      width: 100%;
      height: auto;
      display: block;
    }
    .tree-branch {
      cursor: pointer;
      transition: transform 0.2s ease;
    }
    .tree-branch:hover { transform: scale(1.05); }
    .tree-branch:hover .leaf-circle {
      filter: url(#leafGlow) brightness(1.1);
    }
    .tree-branch.watered .leaf-circle {
      fill: url(#leafGradient);
      animation: bloom 0.5s ease;
    }
    @keyframes bloom {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    .tree-popup {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10;
    }
    .tree-popup.active { display: block; animation: popIn 0.3s ease; }
    .tree-popup-content {
      background: white;
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      min-width: 260px;
      max-width: 320px;
      box-shadow: var(--shadow-lg);
      text-align: center;
      position: relative;
    }
    .tree-popup-close {
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
      color: var(--text-muted);
    }
    .tree-popup-emoji { font-size: 2.5rem; margin-bottom: 0.5rem; }
    .tree-popup-title {
      font-weight: 700;
      font-size: 1.2rem;
      color: var(--secondary);
      margin-bottom: 0.75rem;
    }
    .tree-popup-quote {
      font-style: italic;
      font-size: 1rem;
      line-height: 1.5;
      margin-bottom: 0.5rem;
    }
    .tree-popup-author {
      font-weight: 600;
      font-size: 0.9rem;
      color: var(--text-light);
      margin-bottom: 0.75rem;
    }
    .tree-popup-watered {
      font-size: 0.85rem;
      color: var(--secondary);
      font-weight: 600;
      background: #dcfce7;
      padding: 6px 12px;
      border-radius: 50px;
      display: inline-block;
    }

    /* ========== MCQ SECTION ========== */
    .mcq-section {
      background: var(--bg-cool);
      padding: 3.5rem 0;
    }
    .mcq-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .mcq-subtitle { text-align: center; color: var(--text-light); margin-bottom: 2rem; }

    .mcq-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-bottom: 1.5rem;
    }
    .mcq-tab {
      padding: 10px 16px;
      border-radius: 50px;
      font-size: 0.85rem;
      font-weight: 600;
      background: var(--muted);
      color: var(--text-light);
      border: 1px solid var(--border);
      cursor: pointer;
      transition: all 0.2s;
    }
    .mcq-tab:hover { background: #e9ecef; }
    .mcq-tab.active { background: var(--primary); color: white; border-color: var(--primary); }

    .mcq-container {
      background: #fff;
      border: 2px solid var(--border);
      border-radius: var(--radius-md);
      padding: 20px;
      display: none;
    }
    .mcq-container.active { display: block; }

    .mcq-nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }
    .mcq-nav-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      font-size: 1rem;
    }
    .mcq-nav-btn:hover { background: var(--primary-dark); }
    .mcq-nav-btn:disabled { background: #ced4da; cursor: not-allowed; }
    .mcq-counter { font-weight: 600; color: var(--text-light); }

    .mcq-question {
      font-size: 1.05rem;
      font-weight: 600;
      margin-bottom: 16px;
      line-height: 1.5;
    }
    .mcq-options { display: flex; flex-direction: column; gap: 10px; }
    .mcq-option {
      position: relative;
    }
    .mcq-option label {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 14px;
      border: 2px solid var(--border);
      border-radius: 8px;
      cursor: pointer;
      background: var(--muted);
      transition: all 0.2s;
    }
    .mcq-option label:hover { border-color: var(--primary); background: var(--primary-soft); }
    .mcq-option input[type="radio"] { flex-shrink: 0; margin-top: 2px; }
    .mcq-option .opt-text { flex: 1; }
    .mcq-explanation {
      display: none;
      margin-top: 10px;
      padding: 12px;
      border-radius: 6px;
      font-size: 0.9rem;
      line-height: 1.5;
      border-left: 4px solid #a0aec0;
      background: #f8f9fa;
    }

    .mcq-option.selected.correct label { background: #dcfce7; border-color: #16a34a; }
    .mcq-option.selected.wrong label { background: #fee2e2; border-color: #dc2626; }
    .mcq-option.correct .mcq-explanation { border-left-color: #16a34a; background: #f0fdf4; display: block; }
    .mcq-option.wrong .mcq-explanation { border-left-color: #dc2626; background: #fef2f2; display: block; }
    .mcq-option.show-correct label { background: #dcfce7; border-color: #16a34a; }

    /* ========== MOMENTS SECTION ========== */
    .moments-section {
      background: linear-gradient(135deg, var(--secondary) 0%, #0a3d2e 100%);
      padding: 3.5rem 0;
      color: white;
    }
    .moments-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .moments-subtitle { text-align: center; opacity: 0.85; margin-bottom: 2rem; color: var(--gold); }

    .moment-scroller {
      display: flex;
      overflow-x: auto;
      gap: 20px;
      padding: 20px 0;
      scroll-snap-type: x mandatory;
    }
    .moment-scroller::-webkit-scrollbar { height: 6px; }
    .moment-scroller::-webkit-scrollbar-track { background: rgba(255,255,255,0.1); border-radius: 3px; }
    .moment-scroller::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 3px; }

    .moment-card {
      min-width: 280px;
      scroll-snap-align: center;
      background: rgba(255,255,255,0.05);
      padding: 30px;
      border-left: 4px solid var(--gold);
      border-radius: 0 var(--radius-md) var(--radius-md) 0;
    }
    .moment-icon { font-size: 2.5rem; margin-bottom: 15px; display: block; }
    .moment-text { font-size: 1rem; line-height: 1.6; }

    /* ========== FAQ ========== */
    .faq-section {
      background: var(--bg-cool);
      padding: 3.5rem 0;
    }
    .faq-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .faq-subtitle { text-align: center; color: var(--text-light); margin-bottom: 2rem; }

    .faq-cats {
      display: flex;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 2rem;
    }
    .faq-cat-btn {
      padding: 8px 16px;
      border-radius: 50px;
      font-size: 0.85rem;
      font-weight: 600;
      background: var(--bg);
      color: var(--text-light);
      border: 1px solid var(--border);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .faq-cat-btn:hover { border-color: var(--primary); }
    .faq-cat-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

    .faq-item {
      background: var(--bg);
      border-radius: var(--radius-md);
      margin-bottom: 10px;
      overflow: hidden;
      border: 1px solid var(--border);
    }
    .faq-item[data-category] { display: none; }
    .faq-item.visible { display: block; }
    .faq-question {
      padding: 1.25rem;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 1rem;
      font-size: 1rem;
    }
    .faq-question:hover { background: var(--muted); }
    .faq-icon {
      flex-shrink: 0;
      width: 24px; height: 24px;
      border-radius: 50%;
      background: var(--primary-soft);
      color: var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      transition: transform 0.3s ease;
    }
    .faq-item.open .faq-icon { transform: rotate(45deg); }
    .faq-answer {
      display: none;
      padding: 0 1.25rem 1.25rem;
      color: var(--text-light);
      line-height: 1.8;
      font-size: 1rem;
    }
    .faq-item.open .faq-answer { display: block; animation: fadeIn 0.3s ease; }
    .faq-quote {
      background: var(--muted);
      border-left: 3px solid var(--primary);
      padding: 12px 16px;
      margin: 12px 0;
      font-style: italic;
      border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    }

    /* ========== GLOSSARY ========== */
    .glossary-section {
      background: var(--bg-warm);
      padding: 3.5rem 0;
    }
    .glossary-section h2 { text-align: center; margin-bottom: 0.5rem; }
    .glossary-subtitle { text-align: center; color: var(--text-light); margin-bottom: 2rem; }

    .glossary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 15px;
    }
    .glossary-item {
      background: white;
      padding: 1.25rem;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
    }
    .glossary-term {
      color: var(--primary);
      font-family: var(--font-display);
      font-size: 1.1rem;
      font-weight: 700;
      margin-bottom: 8px;
    }
    .glossary-def { font-size: 0.95rem; color: var(--text-light); }

    /* ========== FOOTER ========== */
    footer {
      background: var(--secondary);
      color: white;
      padding: 2.5rem 0;
      text-align: center;
    }
    footer p { opacity: 0.7; font-size: 0.9rem; margin: 0; }
    .footer-quote {
      font-style: italic;
      font-size: 1rem;
      margin-bottom: 1rem;
      opacity: 0.9;
      font-family: var(--font-display);
    }

    /* ========== ANIMATIONS ========== */
    .reveal {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease;
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ========== RESPONSIVE ========== */
    @media (max-width: 768px) {
      .container { padding: 0 16px; }
      section { padding: 2.5rem 0; }
      .header-stats { gap: 16px; }
      .stat-number { font-size: 1.5rem; }
      h1 { font-size: 1.6rem; }
      h2 { font-size: 1.3rem; }
    }

    @media (max-width: 480px) {
      .container { padding: 0 12px; }
      section { padding: 2rem 0; }
      header { padding: 1.5rem 0 2rem; }
      h1 { font-size: 1.4rem; }
      h2 { font-size: 1.2rem; }
      p { font-size: 0.95rem; }
      .header-badge { font-size: 0.7rem; padding: 4px 8px; }
      .header-stats { flex-wrap: wrap; gap: 12px; }
      .stat-item { min-width: 60px; }
      .stat-number { font-size: 1.3rem; }
      .stat-label { font-size: 0.65rem; }
      .intro-box { padding: 1.25rem; }
      .simple-list li { font-size: 0.95rem; padding-left: 24px; }
      .featured-quote { padding: 1.25rem; }
      .featured-quote blockquote { font-size: 1rem; }
      .poll-card { padding: 1.25rem; }
      .quiz-container { padding: 1.25rem; }
      .mcq-tab { padding: 8px 12px; font-size: 0.8rem; }
      .mcq-container { padding: 16px; }
    }
  
    /* ========== MOMENTS CAROUSEL ========== */
    .moments-wrapper {
      position: relative;
      width: 100%;
    }
    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      z-index: 10;
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: var(--gold);
      color: var(--secondary);
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .carousel-btn:hover {
      background: #fff;
      transform: translateY(-50%) scale(1.1);
    }
    .carousel-btn.prev { left: -10px; }
    .carousel-btn.next { right: -10px; }
    @media (max-width: 768px) {
      .carousel-btn { width: 40px; height: 40px; font-size: 1.2rem; }
      .carousel-btn.prev { left: 5px; }
      .carousel-btn.next { right: 5px; }
    }

    /* ========== IMPROVED POPUP STYLES ========== */
    .milestone-popup,
    .tree-popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
      max-height: 65vh;
      max-width: 90vw;
      pointer-events: none;
    }
    .milestone-popup.active,
    .tree-popup.active {
      display: block;
      pointer-events: auto;
      animation: popIn 0.3s ease forwards;
    }
    .popup-content,
    .tree-popup-content {
      background: white;
      color: var(--text);
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      min-width: 260px;
      max-width: min(350px, 85vw);
      max-height: 60vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
      text-align: center;
      position: relative;
      pointer-events: auto;
    }
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 999;
      display: none;
    }
    .popup-overlay.active { display: block; }

    /* SVG clickable spots - simple, no hover */
    .journey-spot,
    .ornament-spot {
      cursor: pointer;
    }

    /* Fixed tooltip for SVG interactions - near click point */
    .svg-tooltip {
      display: none;
      position: fixed;
      z-index: 1000;
      background: rgba(17, 24, 39, 0.95);
      color: #fff;
      padding: 1rem 1.25rem;
      border-radius: var(--radius-md);
      box-shadow: 0 10px 40px rgba(0,0,0,0.4);
      max-width: 280px;
      text-align: center;
    }
    .svg-tooltip.show {
      display: block;
    }
    .svg-tooltip-emoji {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    .svg-tooltip-stage {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--gold);
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    .svg-tooltip-quote {
      font-style: italic;
      font-size: 1rem;
      line-height: 1.5;
      margin-bottom: 0.5rem;
    }
    .svg-tooltip-author {
      font-size: 0.9rem;
      opacity: 0.8;
    }

    /*
      LEARNING #4: Scroll Progress Indicator
      A themed element (reindeer) moving 10%-90% of viewport as scroll indicator.
      Adds celebration feel while showing reading progress. Close tooltips on scroll.
    */
    .scroll-reindeer {
      position: fixed;
      left: 12px;
      top: 10%;
      font-size: 1.8rem;
      z-index: 100;
      transition: top 0.1s linear;
      pointer-events: none;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
    }
    @media (max-width: 600px) {
      .scroll-reindeer { font-size: 1.4rem; left: 6px; }
    }

    /*
      LEARNING #5: CSS 3D Flip Cards
      Use perspective on parent, rotateY(180deg) on hover, backface-visibility:hidden.
      Creates engaging reveal effect for movie dialogs without JavaScript.
    */
    .movies-section {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      padding: 3.5rem 0;
    }
    .movies-section h2 { text-align: center; color: #fff; margin-bottom: 0.5rem; }
    .movies-subtitle { text-align: center; color: var(--gold); opacity: 0.9; margin-bottom: 2rem; }

    .movies-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1.5rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .flip-card {
      height: 220px;
      perspective: 1000px;
      cursor: pointer;
    }
    .flip-card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    .flip-card.flipped .flip-card-inner {
      transform: rotateY(180deg);
    }
    .flip-card-front,
    .flip-card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: var(--radius-lg);
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    .flip-card-front {
      background: linear-gradient(145deg, rgba(196,30,58,0.15), rgba(15,76,58,0.15));
      border: 1px solid rgba(212,165,116,0.3);
    }
    .flip-card-back {
      background: linear-gradient(145deg, var(--secondary), #0a3a2a);
      border: 1px solid var(--gold);
      transform: rotateY(180deg);
    }
    .flip-card-emoji {
      font-size: 2.5rem;
      margin-bottom: 0.75rem;
    }
    .flip-card-quote {
      font-style: italic;
      font-size: 1rem;
      line-height: 1.5;
      color: #fff;
    }
    .flip-card-hint {
      margin-top: auto;
      font-size: 0.75rem;
      color: var(--gold);
      opacity: 0.7;
    }
    .flip-card-movie {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--gold);
      margin-bottom: 0.5rem;
    }
    .flip-card-year {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.7);
      margin-bottom: 0.75rem;
    }
    .flip-card-character {
      font-size: 0.9rem;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    .flip-card-why {
      font-size: 0.85rem;
      color: rgba(255,255,255,0.8);
      line-height: 1.4;
    }

    /*
      LEARNING #6: Web Audio API for Piano Tones
      No external audio files needed. Use oscillator with triangle wave + gain envelope.
      Map notes to frequencies (d=293.66Hz, etc). Store melodies as note strings.
    */
    .carols-section {
      background: linear-gradient(135deg, #0f4c3a 0%, #1a3a2e 100%);
      padding: 3.5rem 0;
    }
    .carols-section h2 { text-align: center; color: #fff; margin-bottom: 0.5rem; }
    .carols-subtitle { text-align: center; color: var(--gold); opacity: 0.9; margin-bottom: 2rem; }

    .carols-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.5rem;
      max-width: 900px;
      margin: 0 auto;
    }

    .carol-card {
      background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      border: 2px solid rgba(212,165,116,0.4);
      border-radius: var(--radius-lg);
      padding: 2rem 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .carol-card:hover {
      border-color: var(--gold);
      transform: translateY(-4px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    .carol-card.playing {
      border-color: var(--gold);
      animation: carolPulse 1.5s ease-in-out infinite;
    }
    @keyframes carolPulse {
      0%, 100% { box-shadow: 0 0 20px rgba(212,165,116,0.3); }
      50% { box-shadow: 0 0 40px rgba(212,165,116,0.6); }
    }
    .carol-card-emoji {
      font-size: 3rem;
      margin-bottom: 1rem;
      display: block;
    }
    .carol-card-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    .carol-card-hint {
      font-size: 0.85rem;
      color: var(--gold);
      opacity: 0.8;
    }
    .carol-card.playing .carol-card-hint {
      color: #fff;
    }
    .carol-card-notes {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 1.2rem;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .carol-card.playing .carol-card-notes {
      opacity: 1;
      animation: noteFloat 1s ease-in-out infinite;
    }
    @keyframes noteFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    /*
      LEARNING #7: Web Speech API for TTS Narration
      Use SpeechSynthesisUtterance with rate=0.85 for empathetic pace.
      Search for female voice using keywords (samantha, victoria, zira, etc).
    */
    .stories-section {
      background: linear-gradient(135deg, #1a1a2e 0%, #2d1b3d 100%);
      padding: 3.5rem 0;
    }
    .stories-section h2 { text-align: center; color: #fff; margin-bottom: 0.5rem; }
    .stories-subtitle { text-align: center; color: var(--gold); opacity: 0.9; margin-bottom: 2rem; }

    .stories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      max-width: 1000px;
      margin: 0 auto;
    }

    .story-card {
      background: linear-gradient(145deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
      border: 2px solid rgba(212,165,116,0.3);
      border-radius: var(--radius-lg);
      padding: 2rem 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .story-card:hover {
      border-color: var(--gold);
      transform: translateY(-4px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    .story-card-emoji {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      display: block;
    }
    .story-card-title {
      font-size: 1.15rem;
      font-weight: 700;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    .story-card-hint {
      font-size: 0.85rem;
      color: var(--gold);
      opacity: 0.8;
    }

    /* Story Modal */
    .story-modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.85);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }
    .story-modal-overlay.active {
      display: flex;
    }
    .story-modal {
      background: linear-gradient(145deg, #1a1a2e, #2d1b3d);
      border: 2px solid var(--gold);
      border-radius: var(--radius-lg);
      max-width: 600px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      padding: 2rem;
      position: relative;
      box-shadow: 0 20px 60px rgba(0,0,0,0.5);
    }
    .story-modal-close {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(255,255,255,0.1);
      border: none;
      color: #fff;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 1.2rem;
      cursor: pointer;
      transition: background 0.2s;
    }
    .story-modal-close:hover {
      background: rgba(255,255,255,0.2);
    }
    .story-modal-emoji {
      font-size: 2rem;
      text-align: center;
      display: block;
      margin-bottom: 0.3rem;
    }
    .story-modal-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--gold);
      text-align: center;
      margin-bottom: 1rem;
    }
    /*
      LEARNING #8: Rolling Text for Slow Readers
      Show 3 lines at a time. Top line fades first (opacity 0.4) before exiting.
      Gives slow readers extra time to catch up on the fading line.
    */
    .story-modal-text {
      font-size: 1rem;
      line-height: 1.8;
      color: #fff;
      height: 5.4em; /* 3 lines × 1.8 line-height */
      overflow: hidden;
      position: relative;
    }
    .story-line {
      opacity: 1;
      transform: translateY(0);
      transition: all 0.6s ease;
    }
    .story-line.fading {
      opacity: 0.4;
      color: #aaa;
    }
    .story-line.exit {
      opacity: 0;
      transform: translateY(-1.8em);
      height: 0;
      margin: 0;
      padding: 0;
    }
    .story-modal-controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .story-btn {
      background: var(--gold);
      color: #1a1a2e;
      border: none;
      padding: 10px 20px;
      border-radius: 25px;
      font-weight: 700;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .story-btn:hover {
      transform: scale(1.05);
    }
    .story-btn.stop {
      background: var(--primary);
      color: #fff;
    }
    .story-status {
      text-align: center;
      font-size: 0.85rem;
      color: var(--gold);
      margin-top: 1rem;
      min-height: 1.2em;
    }
</style>
</head>
<body>

  <!-- Scrolling Reindeer -->
  <div class="scroll-reindeer" id="scrollReindeer">&#129420;</div>

  <!-- HEADER -->
  <header>
    <div class="container header-content">
      <div class="header-badge">
        <span class="pulse"></span>
        Universal Wisdom • Global Traditions • Seasonal Joy
      </div>
      <h1>The Season of <span>Light</span></h1>
      <p class="header-subtitle">
        101 curated Christmas quotes, 51 sensory micro-moments, global traditions trivia, and an interactive journey through the universal spirit of winter celebrations.
      </p>
      <div class="header-stats">
        <div class="stat-item">
          <div class="stat-number">101</div>
          <div class="stat-label">Quotes</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">51</div>
          <div class="stat-label">Moments</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">15</div>
          <div class="stat-label">MCQs</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">2</div>
          <div class="stat-label">Interactive SVGs</div>
        </div>
      </div>
    </div>
  </header>

  <!-- NAV -->
  <nav class="nav-section">
    <div class="nav-inner">
      <span class="nav-logo">HeppyU</span>
      <button class="hamburger" id="navToggle" aria-label="Menu">&#9776;</button>
    </div>
    <div class="nav-scroll" id="navScroll">
      <button class="nav-pill active" data-target="intro">Start Here</button>
      <button class="nav-pill" data-target="quiz">What's Your Spirit?</button>
      <button class="nav-pill" data-target="mountain">Journey</button>
      <button class="nav-pill" data-target="poll">Polls</button>
      <button class="nav-pill" data-target="tree">Virtue Tree</button>
      <button class="nav-pill" data-target="quotes">101 Quotes</button>
      <button class="nav-pill" data-target="moments">51 Moments</button>
      <button class="nav-pill" data-target="mcq">Trivia Quiz</button>
      <button class="nav-pill" data-target="glossary">Glossary</button>
      <button class="nav-pill" data-target="faq">FAQs</button>
    </div>
  </nav>

  <!-- INTRO -->
  <section class="intro-section" id="intro">
    <div class="container">
      <div class="intro-box reveal">
        <h3>Why This Collection is Special</h3>
        <ul class="simple-list">
          <li><strong>Universal Appeal</strong> - Embraces all winter traditions from around the globe</li>
          <li><strong>Science & Spirit</strong> - Explores the biology and psychology of why we celebrate light</li>
          <li><strong>Sensory Richness</strong> - 51 micro-moments that capture the essence of the season</li>
          <li><strong>Interactive Journey</strong> - Climb a mountain, grow a tree, discover your holiday spirit</li>
          <li><strong>Deep Wisdom</strong> - From Dickens to Dr. Seuss, ancient proverbs to modern insights</li>
        </ul>
      </div>

      <div class="featured-quote reveal">
        <blockquote>"Christmas waves a magic wand over this world, and behold, everything is softer and more beautiful."</blockquote>
        <cite>- Norman Vincent Peale</cite>
      </div>

      <p class="reveal" style="text-align: center; color: var(--text-light);">
        <strong>How to explore:</strong> Use the navigation above to jump to any section. Click cards to expand quotes. Take the quiz to discover your holiday spirit. Enjoy!
      </p>
    </div>
  </section>

  <!-- PERSONALITY QUIZ -->
  <section class="quiz-section" id="quiz">
    <div class="container">
      <h2 class="reveal">What's Your Holiday Spirit?</h2>
      <p class="quiz-subtitle reveal">Answer 5 questions to discover which winter archetype resonates with you.</p>

      <div class="quiz-container reveal">
        <div class="quiz-progress">
          <div class="quiz-progress-bar" id="quiz-progress-bar"></div>
        </div>
        <div class="quiz-progress-text"><span id="quiz-current">1</span> of 5</div>

        <div class="quiz-question active" data-question="1">
          <h3>It's a cold December evening. What draws you most?</h3>
          <div class="quiz-options">
            <button class="quiz-option" data-value="gather">A crowded family dinner with laughter</button>
            <button class="quiz-option" data-value="quiet">A quiet night by candlelight with a book</button>
            <button class="quiz-option" data-value="give">Wrapping gifts for friends and neighbors</button>
            <button class="quiz-option" data-value="explore">Walking through a winter market at night</button>
          </div>
        </div>

        <div class="quiz-question" data-question="2">
          <h3>What holiday tradition means most to you?</h3>
          <div class="quiz-options">
            <button class="quiz-option" data-value="gather">Reuniting with distant relatives</button>
            <button class="quiz-option" data-value="quiet">Watching the same movie every year</button>
            <button class="quiz-option" data-value="give">Volunteering or donating to charity</button>
            <button class="quiz-option" data-value="explore">Trying new recipes from different cultures</button>
          </div>
        </div>

        <div class="quiz-question" data-question="3">
          <h3>Your favorite winter smell?</h3>
          <div class="quiz-options">
            <button class="quiz-option" data-value="gather">Fresh-baked cookies and turkey</button>
            <button class="quiz-option" data-value="quiet">Pine needles and woodsmoke</button>
            <button class="quiz-option" data-value="give">Hot cocoa brought to someone's door</button>
            <button class="quiz-option" data-value="explore">Spiced wine and cinnamon at a market</button>
          </div>
        </div>

        <div class="quiz-question" data-question="4">
          <h3>What do you hope to feel during the holidays?</h3>
          <div class="quiz-options">
            <button class="quiz-option" data-value="gather">Connected and surrounded by love</button>
            <button class="quiz-option" data-value="quiet">Peaceful and spiritually renewed</button>
            <button class="quiz-option" data-value="give">Generous and purposeful</button>
            <button class="quiz-option" data-value="explore">Curious and inspired</button>
          </div>
        </div>

        <div class="quiz-question" data-question="5">
          <h3>Which quote speaks to your soul?</h3>
          <div class="quiz-options">
            <button class="quiz-option" data-value="gather">"At Christmas, all roads lead home."</button>
            <button class="quiz-option" data-value="quiet">"Silence is the language of God."</button>
            <button class="quiz-option" data-value="give">"It's not how much we give but how much love we put into giving."</button>
            <button class="quiz-option" data-value="explore">"The world is a book, and those who do not travel read only one page."</button>
          </div>
        </div>

        <div class="quiz-result" id="quiz-result">
          <div class="result-icon" id="result-icon"></div>
          <h3 id="result-title">The Gatherer</h3>
          <p id="result-desc">You find magic in togetherness.</p>
          <div class="result-quotes" id="result-quotes"></div>
          <button class="quiz-restart" id="quiz-restart">Take Quiz Again</button>
        </div>
      </div>
    </div>
  </section>

  <!-- INTERACTIVE SVG: WINTER JOURNEY -->
  <section class="svg-section" id="mountain">
    <div class="container">
      <h2 class="reveal">Your Winter Journey</h2>
      <p class="svg-subtitle reveal">Tap any milestone to reveal seasonal wisdom.</p>

      <div class="mountain-container reveal">
        <svg viewBox="0 0 800 500" class="mountain-svg">
          <defs>
            <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#0f172a"/>
              <stop offset="100%" style="stop-color:#1e293b"/>
            </linearGradient>
            <linearGradient id="mountainGradient" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#475569"/>
              <stop offset="100%" style="stop-color:#1e293b"/>
            </linearGradient>
          </defs>

          <rect width="800" height="500" fill="url(#skyGradient)"/>

          <g class="stars">
            <circle cx="100" cy="50" r="2" fill="white" opacity="0.8"/>
            <circle cx="200" cy="80" r="1.5" fill="white" opacity="0.6"/>
            <circle cx="350" cy="40" r="2" fill="white" opacity="0.9"/>
            <circle cx="500" cy="70" r="1.5" fill="white" opacity="0.7"/>
            <circle cx="650" cy="45" r="2" fill="white" opacity="0.8"/>
          </g>

          <polygon points="400,80 100,450 700,450" fill="url(#mountainGradient)"/>
          <polygon points="400,80 250,300 400,280 550,300" fill="#334155" opacity="0.5"/>
          <polygon points="400,80 350,150 400,140 450,150" fill="white" opacity="0.9"/>

          <path d="M150,420 Q200,380 250,350 Q320,300 350,250 Q380,200 400,150"
                stroke="#d4a574" stroke-width="3" fill="none" stroke-dasharray="10,5"/>

          <g class="journey-spot" data-spot="1" onclick="showJourneyTip(1, event)">
            <circle cx="150" cy="420" r="22" fill="#16a34a"/>
            <text x="150" y="426" text-anchor="middle" fill="white" font-size="14" font-weight="bold">1</text>
            <text x="150" y="455" text-anchor="middle" fill="white" font-size="11">HOPE</text>
          </g>

          <g class="journey-spot" data-spot="2" onclick="showJourneyTip(2, event)">
            <circle cx="250" cy="350" r="22" fill="#c41e3a"/>
            <text x="250" y="356" text-anchor="middle" fill="white" font-size="14" font-weight="bold">2</text>
            <text x="250" y="385" text-anchor="middle" fill="white" font-size="11">LOVE</text>
          </g>

          <g class="journey-spot" data-spot="3" onclick="showJourneyTip(3, event)">
            <circle cx="350" cy="250" r="22" fill="#d4a574"/>
            <text x="350" y="256" text-anchor="middle" fill="white" font-size="14" font-weight="bold">3</text>
            <text x="350" y="285" text-anchor="middle" fill="white" font-size="11">JOY</text>
          </g>

          <g class="journey-spot" data-spot="4" onclick="showJourneyTip(4, event)">
            <circle cx="385" cy="170" r="22" fill="#7c3aed"/>
            <text x="385" y="176" text-anchor="middle" fill="white" font-size="14" font-weight="bold">4</text>
            <text x="420" y="185" text-anchor="start" fill="white" font-size="11">PEACE</text>
          </g>

          <g class="journey-spot" data-spot="5" onclick="showJourneyTip(5, event)">
            <circle cx="400" cy="100" r="28" fill="#fcd34d"/>
            <text x="400" y="108" text-anchor="middle" fill="#1a1a2e" font-size="18" font-weight="bold">&#9733;</text>
            <text x="400" y="60" text-anchor="middle" fill="#fcd34d" font-size="12" font-weight="bold">LIGHT</text>
          </g>
        </svg>
      </div>

      <!-- Fixed tooltip outside SVG -->
      <div class="svg-tooltip" id="journeyTooltip">
        <div class="svg-tooltip-stage" id="journeyStage">Stage 1: Hope</div>
        <div class="svg-tooltip-quote" id="journeyQuote">"Quote here"</div>
        <div class="svg-tooltip-author" id="journeyAuthor">- Author</div>
      </div>
    </div>
  </section>

  <!-- POLL SECTION -->
  <section class="poll-section" id="poll">
    <div class="container">
      <h2 class="reveal">Holiday Polls</h2>
      <p class="poll-subtitle reveal">Vote and see how others celebrate!</p>

      <div class="polls-grid reveal">
        <div class="poll-card" data-poll="1">
          <h4>When do you open gifts?</h4>
          <div class="poll-options">
            <button class="poll-option" data-option="eve">
              <span class="poll-option-text">Christmas Eve (The anticipation!)</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="38"></span></span>
              <span class="poll-percent">38%</span>
            </button>
            <button class="poll-option" data-option="morning">
              <span class="poll-option-text">Christmas Morning (Tradition!)</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="45"></span></span>
              <span class="poll-percent">45%</span>
            </button>
            <button class="poll-option" data-option="both">
              <span class="poll-option-text">One on Eve, rest on Morning</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="17"></span></span>
              <span class="poll-percent">17%</span>
            </button>
          </div>
          <div class="poll-total">4,523 people voted</div>
        </div>

        <div class="poll-card" data-poll="2">
          <h4>Real Tree or Artificial?</h4>
          <div class="poll-options">
            <button class="poll-option" data-option="real">
              <span class="poll-option-text">Real (I need the pine smell)</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="42"></span></span>
              <span class="poll-percent">42%</span>
            </button>
            <button class="poll-option" data-option="artificial">
              <span class="poll-option-text">Artificial (No mess, reuse it)</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="48"></span></span>
              <span class="poll-percent">48%</span>
            </button>
            <button class="poll-option" data-option="none">
              <span class="poll-option-text">No Tree (I do lights instead)</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="10"></span></span>
              <span class="poll-percent">10%</span>
            </button>
          </div>
          <div class="poll-total">6,847 people voted</div>
        </div>

        <div class="poll-card" data-poll="3">
          <h4>Favorite Holiday Flavor?</h4>
          <div class="poll-options">
            <button class="poll-option" data-option="peppermint">
              <span class="poll-option-text">Peppermint / Chocolate</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="35"></span></span>
              <span class="poll-percent">35%</span>
            </button>
            <button class="poll-option" data-option="gingerbread">
              <span class="poll-option-text">Gingerbread / Spice</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="28"></span></span>
              <span class="poll-percent">28%</span>
            </button>
            <button class="poll-option" data-option="eggnog">
              <span class="poll-option-text">Eggnog / Cream</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="22"></span></span>
              <span class="poll-percent">22%</span>
            </button>
            <button class="poll-option" data-option="cranberry">
              <span class="poll-option-text">Cranberry / Orange</span>
              <span class="poll-bar"><span class="poll-fill" data-percent="15"></span></span>
              <span class="poll-percent">15%</span>
            </button>
          </div>
          <div class="poll-total">5,234 people voted</div>
        </div>
      </div>
    </div>
  </section>

  <!-- INTERACTIVE SVG: VIRTUE TREE -->
  <section class="tree-section" id="tree">
    <div class="container">
      <h2 class="reveal">Grow Your Virtue Tree</h2>
      <p class="tree-subtitle reveal">Tap each ornament to unwrap a gift of wisdom!</p>

      <div class="tree-container reveal">
        <svg viewBox="0 0 600 500" class="tree-svg">
          <defs>
            <linearGradient id="trunkGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#78350f"/>
              <stop offset="50%" style="stop-color:#92400e"/>
              <stop offset="100%" style="stop-color:#78350f"/>
            </linearGradient>
          </defs>

          <!-- Ground -->
          <ellipse cx="300" cy="480" rx="250" ry="30" fill="#166534" opacity="0.3"/>

          <!-- Tree layers -->
          <polygon points="300,60 180,200 420,200" fill="#166534"/>
          <polygon points="300,120 150,280 450,280" fill="#15803d"/>
          <polygon points="300,180 120,380 480,380" fill="#14532d"/>

          <!-- Trunk -->
          <rect x="275" y="380" width="50" height="100" fill="url(#trunkGradient)"/>

          <!-- Star on top -->
          <polygon points="300,45 305,60 320,60 308,70 313,85 300,75 287,85 292,70 280,60 295,60" fill="#fcd34d"/>

          <!-- Ornaments with onclick -->
          <g class="ornament-spot" onclick="showTreeTip('hope', event)">
            <circle cx="200" cy="170" r="26" fill="#c41e3a"/>
            <text x="200" y="178" text-anchor="middle" fill="white" font-size="22">&#127775;</text>
          </g>

          <g class="ornament-spot" onclick="showTreeTip('peace', event)">
            <circle cx="400" cy="170" r="26" fill="#c41e3a"/>
            <text x="400" y="178" text-anchor="middle" fill="white" font-size="22">&#9774;</text>
          </g>

          <g class="ornament-spot" onclick="showTreeTip('joy', event)">
            <circle cx="170" cy="250" r="26" fill="#d4a574"/>
            <text x="170" y="258" text-anchor="middle" fill="white" font-size="22">&#127881;</text>
          </g>

          <g class="ornament-spot" onclick="showTreeTip('love', event)">
            <circle cx="430" cy="250" r="26" fill="#d4a574"/>
            <text x="430" y="258" text-anchor="middle" fill="white" font-size="22">&#10084;</text>
          </g>

          <g class="ornament-spot" onclick="showTreeTip('generosity', event)">
            <circle cx="300" cy="330" r="30" fill="#7c3aed"/>
            <text x="300" y="340" text-anchor="middle" fill="white" font-size="26">&#127873;</text>
          </g>

          <text x="300" y="500" text-anchor="middle" fill="#166534" font-size="14" id="tree-counter">Tap ornaments to unwrap wisdom! 0/5 opened</text>
        </svg>
      </div>

      <!-- Fixed tooltip outside SVG -->
      <div class="svg-tooltip" id="treeTooltip">
        <div class="svg-tooltip-emoji" id="treeEmoji">&#127873;</div>
        <div class="svg-tooltip-stage" id="treeTitle">Generosity</div>
        <div class="svg-tooltip-quote" id="treeQuote">"Quote here"</div>
        <div class="svg-tooltip-author" id="treeAuthor">- Author</div>
      </div>
    </div>
  </section>

  <!-- QUOTES SECTION -->
  <section class="quotes-section" id="quotes" style="background: var(--bg); padding: 3.5rem 0;">
    <div class="container">
      <h2 class="reveal">101 Voices of Light</h2>
      <p style="text-align: center; color: var(--text-light); margin-bottom: 2rem;" class="reveal">Wisdom from around the world, organized by theme. Click to expand.</p>

      <div class="quote-accordion two-col reveal" id="quotes-accordion">
        <!-- Populated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- MOVIE DIALOGS -->
  <section class="movies-section" id="movies">
    <div class="container">
      <h2 class="reveal">&#127916; Iconic Christmas Movie Lines</h2>
      <p class="movies-subtitle reveal">Tap to reveal the movie! 12 unforgettable moments from the silver screen.</p>

      <div class="movies-grid reveal" id="movies-grid">
        <!-- Populated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- CHRISTMAS CAROLS -->
  <section class="carols-section" id="carols">
    <div class="container">
      <h2 class="reveal">&#127925; Play a Carol</h2>
      <p class="carols-subtitle reveal">Tap to hear piano melodies of classic Christmas songs!</p>

      <div class="carols-grid reveal">
        <div class="carol-card" data-carol="jingle" onclick="toggleCarol('jingle')">
          <span class="carol-card-notes">&#9835;</span>
          <span class="carol-card-emoji">&#128276;</span>
          <div class="carol-card-title">Jingle Bells</div>
          <div class="carol-card-hint">Tap to play</div>
        </div>

        <div class="carol-card" data-carol="silent" onclick="toggleCarol('silent')">
          <span class="carol-card-notes">&#9835;</span>
          <span class="carol-card-emoji">&#127769;</span>
          <div class="carol-card-title">Silent Night</div>
          <div class="carol-card-hint">Tap to play</div>
        </div>

        <div class="carol-card" data-carol="tree" onclick="toggleCarol('tree')">
          <span class="carol-card-notes">&#9835;</span>
          <span class="carol-card-emoji">&#127876;</span>
          <div class="carol-card-title">O Christmas Tree</div>
          <div class="carol-card-hint">Tap to play</div>
        </div>
      </div>
    </div>
  </section>

  <!-- CHRISTMAS STORIES -->
  <section class="stories-section" id="stories">
    <div class="container">
      <h2 class="reveal">&#128214; Bedtime Stories</h2>
      <p class="stories-subtitle reveal">Tap a card to hear a heartwarming Christmas tale read aloud.</p>

      <div class="stories-grid reveal">
        <div class="story-card" onclick="openStory('animals')">
          <span class="story-card-emoji">&#128017;</span>
          <div class="story-card-title">The Animals Speak</div>
          <div class="story-card-hint">Tap to hear story</div>
        </div>

        <div class="story-card" onclick="openStory('baboushka')">
          <span class="story-card-emoji">&#129521;</span>
          <div class="story-card-title">Baboushka's Search</div>
          <div class="story-card-hint">Tap to hear story</div>
        </div>

        <div class="story-card" onclick="openStory('pepita')">
          <span class="story-card-emoji">&#127802;</span>
          <div class="story-card-title">Pepita's Poinsettias</div>
          <div class="story-card-hint">Tap to hear story</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Story Modal -->
  <div class="story-modal-overlay" id="storyModalOverlay" onclick="closeStoryModal(event)">
    <div class="story-modal" onclick="event.stopPropagation()">
      <button class="story-modal-close" onclick="closeStoryModal()">&times;</button>
      <span class="story-modal-emoji" id="storyModalEmoji">&#128017;</span>
      <div class="story-modal-title" id="storyModalTitle">The Animals Speak</div>
      <div class="story-modal-text" id="storyModalText"></div>
      <div class="story-status" id="storyStatus"></div>
      <div class="story-modal-controls">
        <button class="story-btn" id="storyPlayBtn" onclick="replayStory()">&#9654; Play Again</button>
        <button class="story-btn stop" id="storyStopBtn" onclick="stopStory()">&#9724; Stop</button>
      </div>
    </div>
  </div>

  <!-- MICRO MOMENTS -->
  <section class="moments-section" id="moments">
    <div class="container-wide">
      <h2 class="reveal">51 Micro-Moments</h2>
      <p class="moments-subtitle reveal">The sensory details that define the season. Scroll to explore.</p>

      <div class="moments-wrapper reveal">
        <button class="carousel-btn prev" id="moments-prev" aria-label="Previous">&#10094;</button>
        <div class="moment-scroller" id="moments-container">
          <!-- Populated by JavaScript -->
        </div>
        <button class="carousel-btn next" id="moments-next" aria-label="Next">&#10095;</button>
      </div>
    </div>
  </section>

  <!-- MCQ TRIVIA -->
  <section class="mcq-section" id="mcq">
    <div class="container">
      <h2 class="reveal">Global Traditions Trivia</h2>
      <p class="mcq-subtitle reveal">Test your knowledge of winter traditions from around the world!</p>

      <div class="mcq-tabs reveal">
        <button class="mcq-tab active" data-quiz="origins">Origins</button>
        <button class="mcq-tab" data-quiz="traditions">Traditions</button>
        <button class="mcq-tab" data-quiz="culture">Culture</button>
      </div>

      <div class="reveal">
        <div class="mcq-container active" id="mcq-origins"></div>
        <div class="mcq-container" id="mcq-traditions"></div>
        <div class="mcq-container" id="mcq-culture"></div>
      </div>
    </div>
  </section>

  <!-- GLOSSARY -->
  <section class="glossary-section" id="glossary">
    <div class="container-wide">
      <h2 class="reveal">Holiday Glossary</h2>
      <p class="glossary-subtitle reveal">20 essential terms from winter traditions worldwide.</p>

      <div class="glossary-grid reveal" id="glossary-container">
        <!-- Populated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="faq-section" id="faq">
    <div class="container">
      <h2 class="reveal">Frequently Asked Questions</h2>
      <p class="faq-subtitle reveal">Click any question to reveal the answer.</p>

      <div class="faq-cats reveal">
        <button class="faq-cat-btn active" data-cat="all">All</button>
        <button class="faq-cat-btn" data-cat="history">History</button>
        <button class="faq-cat-btn" data-cat="traditions">Traditions</button>
        <button class="faq-cat-btn" data-cat="psychology">Psychology</button>
      </div>

      <div id="faq-container" class="reveal">
        <!-- Populated by JavaScript -->
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="container">
      <p class="footer-quote">"In the depth of winter, I finally learned that within me there lay an invincible summer." - Albert Camus</p>
      <p>HeppyU - The Universal Chronicle of Light</p>
      <p style="margin-top: 1rem;">Optimized for Mobile | Universal Design | Global Audience</p>
    </div>
  </footer>

  <script>
    // ========== DATA: QUOTES BY THEME ==========
    const quotesData = {
      classic: { emoji: '&#128214;', title: 'Classic Christmas', quotes: [
        { text: 'I will honor Christmas in my heart, and try to keep it all the year.', author: 'Charles Dickens' },
        { text: 'Christmas is not a time nor a season, but a state of mind.', author: 'Calvin Coolidge' },
        { text: 'He who has not Christmas in his heart will never find it under a tree.', author: 'Roy L. Smith' },
        { text: 'Gifts of time and love are surely the basic ingredients of a truly merry Christmas.', author: 'Peg Bracken' },
        { text: 'The best of all gifts around any Christmas tree: the presence of a happy family all wrapped up in each other.', author: 'Burton Hillis' },
        { text: 'At Christmas, all roads lead home.', author: 'Marjorie Holmes' },
        { text: 'Peace on earth will come to stay, when we live Christmas every day.', author: 'Helen Steiner Rice' },
        { text: 'Christmas is a necessity. There has to be at least one day of the year to remind us that we\'re here for something else besides ourselves.', author: 'Eric Sevareid' }
      ]},
      family: { emoji: '&#128106;', title: 'Family & Home', quotes: [
        { text: 'Our hearts grow tender with childhood memories and love of kindred.', author: 'Laura Ingalls Wilder' },
        { text: 'When we recall Christmas past, we usually find that the simplest things give off the greatest glow of happiness.', author: 'Bob Hope' },
        { text: 'One of the most glorious messes in the world is the mess created in the living room on Christmas day. Don\'t clean it up too quickly.', author: 'Andy Rooney' },
        { text: 'My idea of Christmas is very simple: loving others.', author: 'Bob Hope' },
        { text: 'Like snowflakes, my Christmas memories gather and dance - each beautiful, unique, and too soon gone.', author: 'Deborah Whipp' },
        { text: 'Winter is the time for comfort, for good food and warmth, for the touch of a friendly hand and for a talk beside the fire.', author: 'Edith Sitwell' }
      ]},
      giving: { emoji: '&#127873;', title: 'Giving & Generosity', quotes: [
        { text: 'It\'s not how much we give but how much love we put into giving.', author: 'Mother Teresa' },
        { text: 'A candle loses nothing by lighting another candle.', author: 'James Keller' },
        { text: 'Unless we make Christmas an occasion to share our blessings, all the snow in Alaska won\'t make it white.', author: 'Bing Crosby' },
        { text: 'The joy of brightening other lives becomes for us the magic of the holidays.', author: 'W.C. Jones' },
        { text: 'Love the giver more than the gift.', author: 'Brigham Young' },
        { text: 'Gifts are temporary, but the love they represent is eternal.', author: 'Unknown' },
        { text: 'Let us keep Christmas beautiful without a thought of greed.', author: 'Ann Garnett Schultz' }
      ]},
      light: { emoji: '&#128367;', title: 'Light & Hope', quotes: [
        { text: 'Darkness cannot drive out darkness: only light can do that.', author: 'Martin Luther King Jr.' },
        { text: 'The lights are not for the eyes, but for the soul.', author: 'Diwali Wisdom' },
        { text: 'Shine like the whole universe is yours.', author: 'Rumi' },
        { text: 'In the depth of winter, I finally learned that within me there lay an invincible summer.', author: 'Albert Camus' },
        { text: 'Celebrate the light within.', author: 'Yoga Sutra' },
        { text: 'Christmas magic is silent. You don\'t hear it - you feel it. You know it. You believe it.', author: 'Kevin Alan Milne' },
        { text: 'Seeing is believing, but sometimes the most real things in the world are the things we can\'t see.', author: 'The Polar Express' }
      ]},
      winter: { emoji: '&#10052;', title: 'Winter & Nature', quotes: [
        { text: 'The world changes when it snows.', author: 'Gilmore Girls' },
        { text: 'Snow falling soundlessly in the middle of the night will always fill my heart with sweet clarity.', author: 'Novala Takemoto' },
        { text: 'Kindness is like snow - it beautifies everything it covers.', author: 'Kahlil Gibran' },
        { text: 'Winter forms our character and brings out our best.', author: 'Tom Allen' },
        { text: 'Freshly cut Christmas trees smelling of stars and snow and pine resin.', author: 'John J. Geddes' },
        { text: 'The snow doesn\'t give a soft white damn whom it touches.', author: 'e.e. cummings' },
        { text: 'Winter is on my head, but eternal spring is in my heart.', author: 'Victor Hugo' }
      ]},
      humor: { emoji: '&#128514;', title: 'Holiday Humor', quotes: [
        { text: 'I stopped believing in Santa Claus when I was six. Mother took me to see him in a department store and he asked for my autograph.', author: 'Shirley Temple' },
        { text: 'The main reason Santa is so jolly is because he knows where all the bad girls live.', author: 'George Carlin' },
        { text: 'Santa Claus has the right idea. Visit people only once a year.', author: 'Victor Borge' },
        { text: 'I haven\'t taken my Christmas lights down. They look so nice on the pumpkin.', author: 'Winston Spear' },
        { text: 'Mentally I am ready for Christmas, financially I am not.', author: 'Unknown' },
        { text: 'A balanced diet is a Christmas cookie in each hand.', author: 'Unknown' },
        { text: 'There are three stages of man: he believes in Santa, he does not believe in Santa, he is Santa.', author: 'Bob Phillips' }
      ]},
      spiritual: { emoji: '&#128591;', title: 'Spiritual & Reflective', quotes: [
        { text: 'Silence is the language of God, all else is poor translation.', author: 'Rumi' },
        { text: 'Listen to the silence. It has so much to say.', author: 'Rumi' },
        { text: 'Quiet the mind, and the soul will speak.', author: 'Ma Jaya Sati Bhagavati' },
        { text: 'Solitude is the place of purification.', author: 'Martin Buber' },
        { text: 'Stillness is the key.', author: 'Ryan Holiday' },
        { text: 'Adopt the pace of nature: her secret is patience.', author: 'Ralph Waldo Emerson' },
        { text: 'Calmness of mind is one of the beautiful jewels of wisdom.', author: 'James Allen' },
        { text: 'Let us be silent, that we may hear the whisper of God.', author: 'Ralph Waldo Emerson' }
      ]},
      global: { emoji: '&#127758;', title: 'Global Wisdom', quotes: [
        { text: 'Blessed is the season which engages the whole world in a conspiracy of love.', author: 'Hamilton Wright Mabie' },
        { text: 'Mankind is a great, an immense family. This is proved by what we feel in our hearts at Christmas.', author: 'Pope John XXIII' },
        { text: 'What is Christmas? It is tenderness for the past, courage for the present, hope for the future.', author: 'Agnes M. Pharo' },
        { text: 'Christmas is the gentlest, loveliest festival of the revolving year.', author: 'W.J. Cameron' },
        { text: 'A lovely thing about Christmas is that it\'s compulsory, like a thunderstorm, and we all go through it together.', author: 'Garrison Keillor' },
        { text: 'Christmas is a bridge. We need bridges as the river of time flows past.', author: 'Gladys Taber' }
      ]}
    };

    // ========== DATA: MICRO MOMENTS ==========
    const momentsData = [
      { icon: '&#9749;', text: 'The first sip of hot cocoa that burns your tongue just a little.' },
      { icon: '&#127873;', text: 'The sound of scotch tape tearing off the roll at midnight.' },
      { icon: '&#129509;', text: 'Stepping into a warm shop from a freezing street.' },
      { icon: '&#128367;', text: 'Watching a candle flame dance in a dark room.' },
      { icon: '&#127818;', text: 'The spray of zest when peeling a winter mandarin.' },
      { icon: '&#10024;', text: 'Plugging in the tree lights and seeing them work instantly.' },
      { icon: '&#128220;', text: 'Reading a handwritten card from an old friend.' },
      { icon: '&#10052;', text: 'The absolute silence of snow falling at 2 AM.' },
      { icon: '&#127858;', text: 'The smell of spices boiling on the stove.' },
      { icon: '&#127926;', text: 'Hearing a specific song that transports you back in time.' },
      { icon: '&#129507;', text: 'Wrapping a scarf three times around your neck.' },
      { icon: '&#129510;', text: 'Putting on brand new, thick wool socks.' },
      { icon: '&#128230;', text: 'The sound of a package thumping on your doorstep.' },
      { icon: '&#127794;', text: 'The sharp, resinous smell of a real pine tree.' },
      { icon: '&#127850;', text: 'Biting into a cookie that is still warm.' },
      { icon: '&#128564;', text: 'Waking up and realizing you don\'t have to go to work.' },
      { icon: '&#128293;', text: 'The crackle of dry wood catching fire.' },
      { icon: '&#127788;', text: 'Seeing your breath float in the cold air.' },
      { icon: '&#128049;', text: 'A cat curling up on your lap for warmth.' },
      { icon: '&#127852;', text: 'The crunch of a peppermint candy cane.' },
      { icon: '&#128221;', text: 'The smooth flow of ink on a gift tag.' },
      { icon: '&#127872;', text: 'Curling a ribbon with the edge of scissors.' },
      { icon: '&#129379;', text: 'Ordering Chinese takeout on Christmas Eve.' },
      { icon: '&#127863;', text: 'The clink of glasses during a toast.' },
      { icon: '&#129524;', text: 'The smell of cold air on someone\'s coat when they enter.' },
      { icon: '&#128294;', text: 'Walking through the neighborhood to look at lights.' },
      { icon: '&#128191;', text: 'Watching the same movie you watch every year.' },
      { icon: '&#129374;', text: 'The smell of pancakes on a holiday morning.' },
      { icon: '&#129511;', text: 'Finding a forgotten bill in your winter coat pocket.' },
      { icon: '&#128164;', text: 'Napping on the couch while the TV plays softly.' },
      { icon: '&#128276;', text: 'Hearing church bells in the distance.' },
      { icon: '&#129472;', text: 'Cracking a walnut shell perfectly intact.' },
      { icon: '&#127784;', text: 'Catching a snowflake on your glove and seeing the pattern.' },
      { icon: '&#128705;', text: 'A hot bath with epsom salts after a long day.' },
      { icon: '&#128197;', text: 'Turning the calendar to the last page.' },
      { icon: '&#129528;', text: 'Seeing a child\'s eyes widen at a gift.' },
      { icon: '&#128140;', text: 'The old-fashioned taste of licking an envelope.' },
      { icon: '&#128682;', text: 'Closing the door on the cold world outside.' },
      { icon: '&#129691;', text: 'Pulling an extra chair up to the table.' },
      { icon: '&#129383;', text: 'The smell of butter and flour baking.' },
      { icon: '&#128251;', text: 'Static on the radio between holiday stations.' },
      { icon: '&#129398;', text: 'The shock of cold water on your face in the morning.' },
      { icon: '&#129525;', text: 'The feeling of a heavy knit blanket.' },
      { icon: '&#128367;', text: 'Blowing out a candle and smelling the smoke.' },
      { icon: '&#127851;', text: 'Finding the caramel chocolate in the box.' },
      { icon: '&#128248;', text: 'Looking at a photo from 10 years ago.' },
      { icon: '&#129309;', text: 'The firm handshake of a relative you missed.' },
      { icon: '&#128663;', text: 'Driving on empty roads on a holiday morning.' },
      { icon: '&#127775;', text: 'Placing the final ornament on the tree.' },
      { icon: '&#128716;', text: 'The weight of an extra duvet on the bed.' },
      { icon: '&#10084;', text: 'The feeling of being exactly where you belong.' }
    ];

    // ========== DATA: MCQ QUIZZES ==========
    const mcqData = {
      origins: [
        {
          q: "Why is Christmas celebrated on December 25th?",
          correct: 1,
          options: [
            { text: "It's the documented birth date of Jesus", explanation: "The Bible does not specify a birth date. December 25th was chosen for other reasons." },
            { text: "To coincide with pagan winter solstice festivals", explanation: "Correct! Pope Julius I chose this date in the 4th century to replace festivals like Saturnalia and Sol Invictus." },
            { text: "It was the coldest day of the year in Rome", explanation: "The date was chosen for cultural, not meteorological reasons." },
            { text: "It was when the wise men arrived", explanation: "The Magi's arrival is celebrated on Epiphany (January 6th), not December 25th." }
          ]
        },
        {
          q: "Where did the modern Christmas tree tradition originate?",
          correct: 2,
          options: [
            { text: "England in the Victorian era", explanation: "England popularized it, but the tradition began earlier in Germany." },
            { text: "Ancient Rome during Saturnalia", explanation: "Romans used evergreens but not decorated trees as we know them." },
            { text: "16th-century Germany", explanation: "Correct! German Christians brought decorated trees indoors. Martin Luther is said to have added candles." },
            { text: "Scandinavia with the Vikings", explanation: "Vikings had Yule traditions, but the decorated indoor tree is German." }
          ]
        },
        {
          q: "Who invented electric Christmas lights?",
          correct: 0,
          options: [
            { text: "Thomas Edison's assistant, Edward Johnson", explanation: "Correct! In 1882, Johnson hand-wired 80 red, white, and blue bulbs around a tree." },
            { text: "Thomas Edison himself", explanation: "Edison invented the light bulb, but his assistant Edward Johnson created Christmas lights." },
            { text: "A German glassblower", explanation: "German glassblowers made ornaments, not electric lights." },
            { text: "President Theodore Roosevelt", explanation: "Roosevelt actually banned Christmas trees from the White House for environmental reasons!" }
          ]
        }
      ],
      traditions: [
        {
          q: "In which country do people roller skate to church on Christmas morning?",
          correct: 0,
          options: [
            { text: "Venezuela", explanation: "Correct! In Caracas, streets are closed for roller skaters heading to early morning Mass." },
            { text: "Brazil", explanation: "Brazil has vibrant celebrations, but the skating tradition is Venezuelan." },
            { text: "Colombia", explanation: "Colombia has unique traditions but not roller skating to church." },
            { text: "Mexico", explanation: "Mexico has Las Posadas, but not the skating tradition." }
          ]
        },
        {
          q: "What is commonly used to decorate Christmas trees in Ukraine?",
          correct: 1,
          options: [
            { text: "Pickles", explanation: "The 'Christmas Pickle' is largely an American myth, not Ukrainian." },
            { text: "Spider webs", explanation: "Correct! Based on the 'Legend of the Christmas Spider,' finding a web is considered good luck. It's the origin of tinsel!" },
            { text: "Dried fish", explanation: "This is not a traditional Ukrainian decoration." },
            { text: "Corn husks", explanation: "Corn husk decorations are more common in American traditions." }
          ]
        },
        {
          q: "Why is KFC a Christmas tradition in Japan?",
          correct: 2,
          options: [
            { text: "American soldiers introduced it after WWII", explanation: "The tradition started much later, in the 1970s." },
            { text: "Turkey is expensive and hard to find", explanation: "This is partly true, but the real reason is marketing." },
            { text: "A 1974 KFC marketing campaign", explanation: "Correct! 'Kurisumasu ni wa Kentakkii!' (Kentucky for Christmas) was so successful that millions of Japanese families order weeks in advance." },
            { text: "The Emperor recommended it", explanation: "This is not historically accurate." }
          ]
        }
      ],
      culture: [
        {
          q: "What does the word 'Hanukkah' mean?",
          correct: 0,
          options: [
            { text: "Dedication", explanation: "Correct! It refers to the rededication of the Second Temple in Jerusalem." },
            { text: "Light", explanation: "It's the Festival of Lights, but the word itself means 'Dedication'." },
            { text: "Miracle", explanation: "It celebrates a miracle, but the word translates to 'Dedication'." },
            { text: "Eight", explanation: "It lasts eight nights, but that's not what the name means." }
          ]
        },
        {
          q: "What is 'Dongzhi' in Chinese culture?",
          correct: 1,
          options: [
            { text: "The Lunar New Year", explanation: "That's the Spring Festival, which occurs later." },
            { text: "The Winter Solstice festival", explanation: "Correct! Families gather to eat Tangyuan (glutinous rice balls), symbolizing reunion." },
            { text: "A Christmas substitute", explanation: "Dongzhi is an ancient festival predating contact with Western traditions." },
            { text: "The Moon Festival", explanation: "The Mid-Autumn Festival celebrates the harvest moon, not winter." }
          ]
        },
        {
          q: "What is the best-selling Christmas single of all time?",
          correct: 0,
          options: [
            { text: "White Christmas by Bing Crosby", explanation: "Correct! Over 50 million copies sold worldwide." },
            { text: "All I Want for Christmas Is You by Mariah Carey", explanation: "A modern classic, but hasn't surpassed Crosby's physical sales." },
            { text: "Last Christmas by Wham!", explanation: "A beloved song, but not the best-seller." },
            { text: "Silent Night (various artists)", explanation: "Most recorded song, but Crosby's single holds the sales record." }
          ]
        }
      ]
    };

    // ========== DATA: GLOSSARY ==========
    
    const glossaryData = [
      { term: 'Advent', emoji: '&#128197;', def: 'A four-week period of preparation leading up to Christmas Day. Originally a time of fasting, now a time of calendars and chocolate.' },
      { term: 'Dongzhi', emoji: '&#127877;', def: 'The Chinese Winter Solstice festival. Families gather to eat Tangyuan (glutinous rice balls), symbolizing reunion and wholeness.' },
      { term: 'Solstice', emoji: '&#9728;', def: 'The astronomical event where the sun reaches its lowest or highest point. Winter Solstice marks the shortest day and turning point toward light.' },
      { term: 'Parol', emoji: '&#11088;', def: 'The iconic Filipino Christmas lantern. Star-shaped and made of bamboo and paper, representing the Star of Bethlehem.' },
      { term: 'Hygge', emoji: '&#128293;', def: 'A Danish concept of cozy contentment through enjoying simple things. Candles, blankets, and hot drinks are essential.' },
      { term: 'Yule', emoji: '&#127876;', def: 'A pre-Christian Germanic festival. Many traditions like the log and tree were absorbed into Christmas.' },
      { term: 'Epiphany', emoji: '&#128081;', def: 'Three Kings\' Day (January 6). In many cultures, this is the day for gift-giving, not December 25th.' },
      { term: 'Hanukkah', emoji: '&#128367;', def: 'The Jewish Festival of Lights, commemorating the rededication of the Second Temple. Lasts eight nights.' },
      { term: 'Krampus', emoji: '&#128520;', def: 'In Central European folklore, a horned figure who punishes misbehaving children, contrasting with St. Nicholas.' },
      { term: 'Wassail', emoji: '&#127866;', def: 'A hot, mulled cider drink and a medieval tradition of visiting neighbors to sing and drink to their health.' },
      { term: 'Mistletoe', emoji: '&#127796;', def: 'In Norse mythology, Frigg declared it a symbol of love after her son Baldur\'s death, hence the kissing tradition.' },
      { term: 'Myrrh', emoji: '&#127807;', def: 'One of the three Magi gifts. A natural resin historically used for perfume, incense, and medicine.' },
      { term: 'Boxing Day', emoji: '&#127873;', def: 'December 26. Traditionally when wealthy people gave "Christmas Boxes" to servants and tradespeople.' },
      { term: 'Befana', emoji: '&#129497;', def: 'Italian folklore figure who delivers gifts on Epiphany Eve (January 5). Leaves candy for good children, coal for naughty.' },
      { term: 'Kwanzaa', emoji: '&#127878;', def: 'An annual celebration of African-American culture from December 26 to January 1, focusing on seven core principles.' },
      { term: 'Saturnalia', emoji: '&#127942;', def: 'Ancient Roman festival honoring Saturn, held in mid-December. A time of feasting, role reversals, and gift-giving.' },
      { term: 'Tinsel', emoji: '&#10024;', def: 'Originally made of real silver in 17th-century Germany to reflect candlelight, symbolizing the starry sky.' },
      { term: 'Nochebuena', emoji: '&#127774;', def: 'Spanish for "Good Night," referring to Christmas Eve. The main celebration in Spain, Latin America, and Philippines.' },
      { term: 'Eggnog', emoji: '&#129371;', def: 'A rich, sweetened dairy beverage traditionally made with milk, cream, sugar, eggs, and often spiked with spirits.' },
      { term: 'Frankincense', emoji: '&#128171;', def: 'One of the Magi gifts. An aromatic resin symbolizing deity and holiness in the ancient world.' }
    ];

    // ========== DATA: FAQs ==========
    const faqData = [
      { cat: 'history', q: 'Why is Christmas celebrated on December 25th?', a: 'The Bible does not specify a birth date for Jesus. December 25th was chosen in the 4th century by Pope Julius I to coincide with popular pagan winter solstice festivals like Saturnalia and the birthday of Sol Invictus. This made it easier for populations to adopt the Christian holiday while keeping their cherished traditions.' },
      { cat: 'history', q: 'Is Christmas purely a religious holiday?', a: 'For billions of people, Christmas has evolved into a largely secular cultural phenomenon. While sacred for Christians, for much of the world it\'s a festival of Light and Family. It serves a biological function: providing a reason to gather, rest, and combat seasonal gloom with artificial light, rich food, and communal generosity.' },
      { cat: 'traditions', q: 'Why do we decorate with evergreen trees?', a: 'The tradition predates Christianity. Ancient Egyptians, Chinese, and Hebrews viewed evergreens as symbols of eternal life. Northern European Druids decorated temples with evergreen boughs. The modern Christmas tree tradition began in 16th-century Germany, where devout Christians brought decorated trees indoors.' },
      { cat: 'traditions', q: 'What is the origin of gift-giving?', a: 'While often linked to the Three Wise Men, midwinter gift-giving has roots in Roman Saturnalia. Biologically, gift-giving releases oxytocin in both giver and receiver, strengthening bonds during harsh winter months when cooperation was essential for survival.' },
      { cat: 'psychology', q: 'What is the psychological purpose of holiday lights?', a: 'Humans are diurnal creatures relying on sunlight to regulate circadian rhythms and serotonin. Holiday lights act as environmental anti-depressants, triggering dopamine responses. Collectively lighting up our homes is an act of defiance against the dark, signaling safety, warmth, and community.' },
      { cat: 'traditions', q: 'Why do we kiss under the mistletoe?', a: 'The tradition comes from Norse mythology. After Baldur was killed by a mistletoe arrow, his mother Frigg declared it a symbol of love and peace. Anyone standing under it was to receive a kiss. In Victorian England, this evolved into the romantic custom we know today.' },
      { cat: 'history', q: 'Who is Santa Claus based on?', a: 'Santa is an amalgamation of St. Nicholas (a 4th-century Greek bishop known for secret gift-giving) and British "Father Christmas." The modern jolly, red-suited image was influenced by the 1823 poem "A Visit from St. Nicholas" and standardized by Coca-Cola advertisements in the 1930s.' },
      { cat: 'psychology', q: 'What is the "Christmas Spirit" scientifically?', a: 'A 2015 University of Copenhagen study found evidence of a "Christmas Spirit network" in the brain. When people who celebrate Christmas see holiday images, specific brain areas associated with spirituality and facial emotion recognition light up. The "spirit" is a distinct neural pathway activated by nostalgia and shared ritual.' },
      { cat: 'traditions', q: 'Why is red and green the Christmas color scheme?', a: 'Green represents the eternal life of evergreen trees. Red represents holly berries and, in Christian theology, the blood of Christ. The specific vibrant red-green palette we see today was standardized by Victorian cards and later American advertising.' },
      { cat: 'history', q: 'What are the "12 Days of Christmas"?', a: 'Contrary to marketing, the 12 days don\'t lead UP to Christmas - they START on Christmas Day (Dec 25) and run through Epiphany (Jan 6). This was historically the period of rest and feasting. The famous song may have been a memory game or catechism song for Catholics in England.' }
    ];

    // ========== DATA: JOURNEY MILESTONES ==========
    const milestoneData = {
      1: { stage: 'Stage 1: Hope', quote: '"Christmas is a necessity. There has to be at least one day of the year to remind us that we\'re here for something else besides ourselves."', author: 'Eric Sevareid' },
      2: { stage: 'Stage 2: Love', quote: '"The best of all gifts around any Christmas tree: the presence of a happy family all wrapped up in each other."', author: 'Burton Hillis' },
      3: { stage: 'Stage 3: Joy', quote: '"One of the most glorious messes in the world is the mess created in the living room on Christmas day. Don\'t clean it up too quickly."', author: 'Andy Rooney' },
      4: { stage: 'Stage 4: Peace', quote: '"Peace on earth will come to stay, when we live Christmas every day."', author: 'Helen Steiner Rice' },
      5: { stage: 'Stage 5: Light', quote: '"Darkness cannot drive out darkness: only light can do that. Hate cannot drive out hate: only love can do that."', author: 'Martin Luther King Jr.' }
    };

    // ========== DATA: TREE VIRTUES ==========
    const treeData = {
      hope: { emoji: '&#127775;', title: 'Hope', quote: '"May you never be too grown up to search the skies on Christmas Eve."', author: 'Unknown' },
      peace: { emoji: '&#9774;', title: 'Peace', quote: '"Silence is the language of God, all else is poor translation."', author: 'Rumi' },
      joy: { emoji: '&#127881;', title: 'Joy', quote: '"Joy is the simplest form of gratitude."', author: 'Karl Barth' },
      love: { emoji: '&#10084;', title: 'Love', quote: '"Love is the only gold."', author: 'Alfred Lord Tennyson' },
      generosity: { emoji: '&#127873;', title: 'Generosity', quote: '"It\'s not how much we give but how much love we put into giving."', author: 'Mother Teresa' }
    };

    // ========== DATA: MOVIE DIALOGS ==========
    const movieData = [
      { emoji: '🏠', quote: '"Keep the change, ya filthy animal."', movie: 'Home Alone', year: '1990', character: 'Gangster Johnny (movie within movie)', why: 'A fake movie quote that became more famous than most real ones.' },
      { emoji: '🧝', quote: '"The best way to spread Christmas cheer is singing loud for all to hear."', movie: 'Elf', year: '2003', character: 'Buddy the Elf', why: 'Pure innocent joy in one sentence. Will Ferrell at his finest.' },
      { emoji: '👻', quote: '"God bless us, everyone!"', movie: 'A Christmas Carol', year: '1843+', character: 'Tiny Tim', why: 'Dickens\' timeless message of hope despite hardship.' },
      { emoji: '🎅', quote: '"Faith is believing when common sense tells you not to."', movie: 'Miracle on 34th Street', year: '1947', character: 'Doris Walker', why: 'The heart of every Christmas miracle story.' },
      { emoji: '🔔', quote: '"Every time a bell rings, an angel gets his wings."', movie: 'It\'s a Wonderful Life', year: '1946', character: 'Zuzu Bailey', why: 'Made bells forever magical. Try not to tear up.' },
      { emoji: '🦌', quote: '"There\'s always tomorrow for dreams to come true."', movie: 'Rudolph the Red-Nosed Reindeer', year: '1964', character: 'Song lyrics', why: 'Stop-motion optimism that shaped childhoods.' },
      { emoji: '💚', quote: '"Maybe Christmas doesn\'t come from a store. Maybe Christmas... perhaps... means a little bit more."', movie: 'How the Grinch Stole Christmas', year: '1966', character: 'The Grinch\'s realization', why: 'The moment a heart grew three sizes.' },
      { emoji: '💌', quote: '"To me, you are perfect."', movie: 'Love Actually', year: '2003', character: 'Mark (cue cards scene)', why: 'Romantic? Creepy? Still debated. Definitely iconic.' },
      { emoji: '🚂', quote: '"Believe."', movie: 'The Polar Express', year: '2004', character: 'Bell inscription', why: 'One word that captures childhood wonder.' },
      { emoji: '🎄', quote: '"Where do you think you\'re gonna put a tree that big?"', movie: 'National Lampoon\'s Christmas Vacation', year: '1989', character: 'Ellen Griswold', why: 'Every family has had this exact argument.' },
      { emoji: '🌟', quote: '"That\'s what Christmas is all about, Charlie Brown."', movie: 'A Charlie Brown Christmas', year: '1965', character: 'Linus', why: 'Stopped commercialism cold with a Bible verse.' },
      { emoji: '❄️', quote: '"Merry Christmas, movie house!"', movie: 'It\'s a Wonderful Life', year: '1946', character: 'George Bailey', why: 'Joy of being alive, distilled into four words.' }
    ];

    // ========== DATA: QUIZ RESULTS ==========
    const quizResults = {
      gather: {
        icon: '&#128106;',
        title: 'The Gatherer',
        desc: 'You find magic in togetherness. For you, the holidays are about reunions, shared meals, and the warmth of family.',
        quotes: [
          { text: 'At Christmas, all roads lead home.', author: 'Marjorie Holmes' },
          { text: 'The best gift is the presence of a happy family all wrapped up in each other.', author: 'Burton Hillis' }
        ]
      },
      quiet: {
        icon: '&#128367;',
        title: 'The Contemplator',
        desc: 'You find magic in stillness. The holidays are a time for reflection, peace, and spiritual renewal.',
        quotes: [
          { text: 'Silence is the language of God, all else is poor translation.', author: 'Rumi' },
          { text: 'In the depth of winter, I finally learned that within me there lay an invincible summer.', author: 'Albert Camus' }
        ]
      },
      give: {
        icon: '&#127873;',
        title: 'The Giver',
        desc: 'You find magic in generosity. The holidays are your time to show love through thoughtful acts and gifts.',
        quotes: [
          { text: 'It\'s not how much we give but how much love we put into giving.', author: 'Mother Teresa' },
          { text: 'A candle loses nothing by lighting another candle.', author: 'James Keller' }
        ]
      },
      explore: {
        icon: '&#127758;',
        title: 'The Explorer',
        desc: 'You find magic in discovery. The holidays are a chance to experience new traditions and cultures.',
        quotes: [
          { text: 'The world is a book, and those who do not travel read only one page.', author: 'Saint Augustine' },
          { text: 'Blessed is the season which engages the whole world in a conspiracy of love.', author: 'Hamilton Wright Mabie' }
        ]
      }
    };

    // ========== RENDER FUNCTIONS ==========

    // Render quote accordions
    function renderQuoteAccordions() {
      const container = document.getElementById('quotes-accordion');
      if (!container) return;

      let html = '';
      for (const [key, data] of Object.entries(quotesData)) {
        html += `
          <div class="quote-acc-item" data-acc="${key}">
            <button class="quote-acc-header">
              <span class="quote-acc-emoji">${data.emoji}</span>
              <span class="quote-acc-title">${data.title}</span>
              <span class="quote-acc-count">${data.quotes.length} quotes</span>
              <span class="quote-acc-icon">&#9660;</span>
            </button>
            <div class="quote-acc-body">
              <div class="quote-acc-list">
                ${data.quotes.map(q => `
                  <div class="quote-acc-quote">
                    <div class="quote-acc-text">"${q.text}"</div>
                    <div class="quote-acc-author">- ${q.author}</div>
                  </div>
                `).join('')}
              </div>
            </div>
          </div>
        `;
      }
      container.innerHTML = html;
    }

    // Render moments scroller
    function renderMoments() {
      const container = document.getElementById('moments-container');
      if (!container) return;

      container.innerHTML = momentsData.map(m => `
        <div class="moment-card">
          <span class="moment-icon">${m.icon}</span>
          <p class="moment-text">${m.text}</p>
        </div>
      `).join('');
    }

    // Render movie flip cards
    function renderMovies() {
      const container = document.getElementById('movies-grid');
      if (!container) return;

      container.innerHTML = movieData.map((m, i) => `
        <div class="flip-card" onclick="this.classList.toggle('flipped')">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <div class="flip-card-emoji">${m.emoji}</div>
              <div class="flip-card-quote">${m.quote}</div>
              <div class="flip-card-hint">Tap to reveal movie</div>
            </div>
            <div class="flip-card-back">
              <div class="flip-card-movie">${m.movie}</div>
              <div class="flip-card-year">${m.year}</div>
              <div class="flip-card-character">${m.character}</div>
              <div class="flip-card-why">${m.why}</div>
            </div>
          </div>
        </div>
      `).join('');
    }

    // Render glossary
    function renderGlossary() {
      const container = document.getElementById('glossary-container');
      if (!container) return;

      container.innerHTML = glossaryData.map(g => `
        <div class="glossary-item">
          <div class="glossary-term">${g.emoji || ''} ${g.term}</div>
          <p class="glossary-def">${g.def}</p>
        </div>
      `).join('');
    }

    // Render FAQs
    function renderFAQs() {
      const container = document.getElementById('faq-container');
      if (!container) return;

      container.innerHTML = faqData.map((f, i) => `
        <div class="faq-item visible" data-category="${f.cat}">
          <div class="faq-question">
            <span>${f.q}</span>
            <span class="faq-icon">+</span>
          </div>
          <div class="faq-answer">${f.a}</div>
        </div>
      `).join('');
    }

    // Setup MCQ Quiz
    function setupMCQQuiz(quizKey, questions) {
      const container = document.getElementById(`mcq-${quizKey}`);
      if (!container || !questions || questions.length === 0) return;

      let currentQ = 0;

      function renderQuestion() {
        const q = questions[currentQ];
        const optionsHTML = q.options.map((opt, i) => `
          <div class="mcq-option" data-idx="${i}">
            <label>
              <input type="radio" name="mcq-${quizKey}-${currentQ}" value="${i}">
              <span class="opt-text">${opt.text}</span>
            </label>
            <div class="mcq-explanation">${opt.explanation}</div>
          </div>
        `).join('');

        container.innerHTML = `
          <div class="mcq-nav">
            <button class="mcq-nav-btn mcq-prev" ${currentQ === 0 ? 'disabled' : ''}>&#11164;</button>
            <span class="mcq-counter">${currentQ + 1} of ${questions.length}</span>
            <button class="mcq-nav-btn mcq-next" ${currentQ === questions.length - 1 ? 'disabled' : ''}>&#11166;</button>
          </div>
          <div class="mcq-question"><strong>Q${currentQ + 1}:</strong> ${q.q}</div>
          <div class="mcq-options">${optionsHTML}</div>
        `;

        container.querySelector('.mcq-prev').addEventListener('click', () => {
          if (currentQ > 0) { currentQ--; renderQuestion(); }
        });
        container.querySelector('.mcq-next').addEventListener('click', () => {
          if (currentQ < questions.length - 1) { currentQ++; renderQuestion(); }
        });

        container.querySelectorAll('.mcq-option input').forEach(radio => {
          radio.addEventListener('change', handleSelect);
        });
      }

      function handleSelect(e) {
        const selected = parseInt(e.target.value);
        const correct = questions[currentQ].correct;
        const options = container.querySelectorAll('.mcq-option');

        options.forEach((opt, i) => {
          opt.classList.remove('selected', 'correct', 'wrong', 'show-correct');
          if (i === selected) {
            opt.classList.add('selected');
            opt.classList.add(i === correct ? 'correct' : 'wrong');
          }
          if (i === correct && selected !== correct) {
            opt.classList.add('show-correct');
          }
        });
      }

      renderQuestion();
    }

    // ========== EVENT HANDLERS ==========

    // Navigation
    document.getElementById('navToggle').addEventListener('click', () => {
      document.getElementById('navScroll').classList.toggle('open');
    });

    document.querySelectorAll('.nav-pill').forEach(pill => {
      pill.addEventListener('click', () => {
        document.querySelectorAll('.nav-pill').forEach(p => p.classList.remove('active'));
        pill.classList.add('active');
        const target = pill.dataset.target;
        const section = document.getElementById(target);
        if (section) {
          section.scrollIntoView({ behavior: 'smooth', block: 'start' });
          document.getElementById('navScroll').classList.remove('open');

          // For quiz section, scroll to show quiz container in view
          if (target === 'quiz') {
            setTimeout(() => {
              const quizContainer = section.querySelector('.quiz-container');
              if (quizContainer) {
                quizContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
              }
            }, 400);
          }
        }
      });
    });

    // Accordion toggle
    document.addEventListener('click', (e) => {
      if (e.target.closest('.quote-acc-header')) {
        const item = e.target.closest('.quote-acc-item');
        item.classList.toggle('open');
      }
    });

    // FAQ toggle
    document.addEventListener('click', (e) => {
      if (e.target.closest('.faq-question')) {
        const item = e.target.closest('.faq-item');
        item.classList.toggle('open');
      }
    });

    // FAQ category filter
    document.querySelectorAll('.faq-cat-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.faq-cat-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const cat = btn.dataset.cat;
        document.querySelectorAll('.faq-item').forEach(item => {
          if (cat === 'all' || item.dataset.category === cat) {
            item.classList.add('visible');
          } else {
            item.classList.remove('visible');
          }
        });
      });
    });

    // MCQ tabs
    document.querySelectorAll('.mcq-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.mcq-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.mcq-container').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(`mcq-${tab.dataset.quiz}`).classList.add('active');
      });
    });

    // Poll voting
    document.querySelectorAll('.poll-option').forEach(opt => {
      opt.addEventListener('click', () => {
        const card = opt.closest('.poll-card');
        if (card.classList.contains('revealed')) return;

        opt.classList.add('voted');
        card.classList.add('revealed');

        card.querySelectorAll('.poll-fill').forEach(fill => {
          const percent = fill.dataset.percent;
          fill.style.setProperty('--fill-width', percent + '%');
        });
      });
    });

    // ========== CAROL AUDIO SYSTEM ==========
    let carolAudioContext = null;
    let carolPlaying = null;
    let carolStopRequested = false;

    // Piano key frequencies (C major scale)
    const pianoKeys = {
      'd': 293.66,  // D4
      'f': 349.23,  // F4
      'g': 392.00,  // G4
      'h': 440.00,  // A4 (using h for simplicity)
      'j': 493.88,  // B4
      'k': 523.25,  // C5
      'l': 587.33,  // D5
      ';': 659.25   // E5
    };

    // Carol melodies (simplified notation)
    const carolMelodies = {
      jingle: {
        notes: 'g-g-g--g-g-g--g-j-d-f-g--h-h-h-h-h-g-g-g-g-f-f-g-f--j',
        tempo: 280
      },
      silent: {
        notes: 'j-k-j-g--j-k-j-g--;-;-f--k-k-d--j-j-g',
        tempo: 450
      },
      tree: {
        notes: 'd--j-j-j--k-l-l--l-k-l-j--g-k-j--h-g-f-f-d',
        tempo: 380
      }
    };

    /*
      LEARNING #10: AudioContext Initialization
      Must create AudioContext on user gesture (click/tap), not on page load.
      Check for 'suspended' state and resume - required by browser autoplay policies.
    */
    function initCarolAudio() {
      if (!carolAudioContext) {
        carolAudioContext = new (window.AudioContext || window.webkitAudioContext)();
      }
      if (carolAudioContext.state === 'suspended') {
        carolAudioContext.resume();
      }
    }

    function playPianoTone(frequency, duration = 0.35) {
      if (!carolAudioContext) return;
      const osc = carolAudioContext.createOscillator();
      const gain = carolAudioContext.createGain();
      osc.type = 'triangle';
      osc.frequency.setValueAtTime(frequency, carolAudioContext.currentTime);
      gain.gain.setValueAtTime(0, carolAudioContext.currentTime);
      gain.gain.linearRampToValueAtTime(0.4, carolAudioContext.currentTime + 0.02);
      gain.gain.exponentialRampToValueAtTime(0.001, carolAudioContext.currentTime + duration);
      osc.connect(gain);
      gain.connect(carolAudioContext.destination);
      osc.start();
      osc.stop(carolAudioContext.currentTime + duration + 0.05);
    }

    async function playCarolMelody(carolId) {
      const carol = carolMelodies[carolId];
      if (!carol) return;

      const card = document.querySelector(`[data-carol="${carolId}"]`);
      const hint = card.querySelector('.carol-card-hint');

      card.classList.add('playing');
      hint.textContent = 'Playing... (tap to stop)';
      carolPlaying = carolId;
      carolStopRequested = false;

      const notes = carol.notes;
      let i = 0;

      while (i < notes.length && !carolStopRequested) {
        const char = notes[i];
        let delay = carol.tempo;

        if (char !== '-') {
          const freq = pianoKeys[char.toLowerCase()];
          if (freq) {
            playPianoTone(freq);
          }
        }

        i++;
        // Check for long pause (double dash)
        if (i < notes.length && notes[i] === '-') {
          i++;
          if (i < notes.length && notes[i] === '-') {
            delay = carol.tempo * 2;
            i++;
          }
        }

        await new Promise(r => setTimeout(r, delay));
      }

      card.classList.remove('playing');
      hint.textContent = 'Tap to play';
      carolPlaying = null;
    }

    window.toggleCarol = function(carolId) {
      initCarolAudio();

      // If this carol is playing, stop it
      if (carolPlaying === carolId) {
        carolStopRequested = true;
        return;
      }

      // If another carol is playing, stop it first
      if (carolPlaying) {
        carolStopRequested = true;
        setTimeout(() => {
          playCarolMelody(carolId);
        }, 100);
        return;
      }

      playCarolMelody(carolId);
    };

    // ========== STORY TTS SYSTEM ==========
    const storyData = {
      animals: {
        emoji: '&#128017;',
        title: 'The Animals Speak',
        text: `On a cold night in Bethlehem, everyone in the village was asleep. In a little stable, a baby lay in a manger. The animals — an ox, a donkey, and fluffy sheep — watched him sleep. When the clock struck midnight, something wonderful happened: the animals bowed their heads and whispered a song of love. Their soft voices filled the stable like a gentle lullaby. The farmer woke and smiled, knowing even animals felt the joy of the baby. The story reminds children that kindness and wonder belong to everyone, even the animals.`
      },
      baboushka: {
        emoji: '&#129521;',
        title: "Baboushka's Search",
        text: `Long ago, an old woman named Baboushka was sweeping her cottage when some visitors came by. "We're following a bright star to meet a special baby," they said cheerfully. Baboushka wanted to help, but she said, "Not now — I must finish my chores." After they left, she felt sad and decided to catch up. She packed small toys and sweets and hurried after the star, but she could not find the baby. Still, Baboushka kept going from house to house, leaving little gifts for children. People remember her kindness and say that sharing is a way to keep looking for magic.`
      },
      pepita: {
        emoji: '&#127802;',
        title: "Pepita's Poinsettias",
        text: `Pepita was a little girl who wanted to take a gift to the baby in the church, but she had nothing special. She picked some small, plain green weeds by the roadside and walked to the church with a shy smile. When she bowed before the manger, the weeds turned into bright red flowers that looked like stars. Everyone gasped and called them Poinsettias. The baby seemed pleased with Pepita's simple gift. From that day on, families decorated with red poinsettias during the holiday, and children learned that the best gifts come from the heart — even a tiny weed can become something beautiful.`
      }
    };

    let currentStoryId = null;
    let storyUtterance = null;
    let storyLines = [];
    let storyLineIndex = 0;
    let storyInterval = null;
    let storyPlaying = false;

    // Get best female voice
    function getFemaleVoice() {
      const voices = speechSynthesis.getVoices();
      // Try to find female English voice
      const femaleKeywords = ['female', 'woman', 'samantha', 'victoria', 'karen', 'moira', 'tessa', 'fiona', 'serena', 'susan', 'zira', 'hazel'];
      const englishVoices = voices.filter(v => v.lang.startsWith('en'));

      for (const keyword of femaleKeywords) {
        const match = englishVoices.find(v => v.name.toLowerCase().includes(keyword));
        if (match) return match;
      }
      // Fallback to first English voice or any voice
      return englishVoices[0] || voices[0] || null;
    }

    /*
      LEARNING #12: Rolling Text Display
      Don't show all text at once - split into ~8 word chunks (lines).
      Show 3-4 lines at a time, roll out old lines as new ones appear.
      Keeps reader focused and fits in compact modal without scroll.
    */
    function splitIntoLines(text) {
      const words = text.split(/\s+/);
      const lines = [];
      let currentLine = [];
      words.forEach(word => {
        currentLine.push(word);
        if (currentLine.length >= 8) {
          lines.push(currentLine.join(' '));
          currentLine = [];
        }
      });
      if (currentLine.length > 0) {
        lines.push(currentLine.join(' '));
      }
      return lines;
    }

    function openStory(storyId) {
      const story = storyData[storyId];
      if (!story) return;

      currentStoryId = storyId;
      storyLines = splitIntoLines(story.text);
      storyLineIndex = 0;

      document.getElementById('storyModalEmoji').innerHTML = story.emoji;
      document.getElementById('storyModalTitle').textContent = story.title;
      document.getElementById('storyStatus').textContent = '';
      document.getElementById('storyModalText').innerHTML = '';
      document.getElementById('storyModalOverlay').classList.add('active');

      // Start playback
      setTimeout(() => playStory(story), 300);
    }

    function playStory(story) {
      const textContainer = document.getElementById('storyModalText');
      textContainer.innerHTML = '';
      storyLineIndex = 0;
      storyPlaying = true;

      document.getElementById('storyStatus').textContent = 'Reading aloud...';

      /*
        LEARNING #9: TTS-Text Synchronization Math
        Don't guess averages - count EXACT words in your known story text.
        TTS rate 0.85 = 136 words/min = 440ms/word.
        Use 420ms/word to keep text 1-2 words AHEAD (buffer), never behind.
      */
      const totalWords = story.text.split(/\s+/).length;
      const totalLines = storyLines.length;
      const wordsPerLine = totalWords / totalLines;
      const msPerWord = 420;
      const lineDelay = wordsPerLine * msPerWord;

      // Show first 3 lines immediately
      for (let i = 0; i < Math.min(3, storyLines.length); i++) {
        const lineEl = document.createElement('div');
        lineEl.className = 'story-line';
        lineEl.textContent = storyLines[i];
        textContainer.appendChild(lineEl);
      }
      storyLineIndex = Math.min(3, storyLines.length);

      // Roll lines - fade top line first, then remove and add new
      storyInterval = setInterval(() => {
        if (storyLineIndex < storyLines.length) {
          const lines = textContainer.querySelectorAll('.story-line:not(.exit)');
          // Fade the top line (slow readers can still see it)
          if (lines[0]) {
            lines[0].classList.add('fading');
          }
          // After a moment, exit top line and add new
          setTimeout(() => {
            if (lines[0]) {
              lines[0].classList.add('exit');
              setTimeout(() => lines[0].remove(), 500);
            }
            // Add new line at bottom
            const newLine = document.createElement('div');
            newLine.className = 'story-line';
            newLine.textContent = storyLines[storyLineIndex];
            textContainer.appendChild(newLine);
            storyLineIndex++;
          }, 300);
        } else {
          clearInterval(storyInterval);
          storyPlaying = false;
          document.getElementById('storyStatus').textContent = 'Story complete ✨';
        }
      }, lineDelay);

      // Start TTS
      if ('speechSynthesis' in window) {
        speechSynthesis.cancel();
        storyUtterance = new SpeechSynthesisUtterance(story.text);
        storyUtterance.rate = 0.85;
        storyUtterance.pitch = 1.05;
        const voice = getFemaleVoice();
        if (voice) storyUtterance.voice = voice;
        storyUtterance.onend = () => {
          clearInterval(storyInterval);
          storyPlaying = false;
          document.getElementById('storyStatus').textContent = 'Story complete ✨';
        };
        speechSynthesis.speak(storyUtterance);
      }
    }

    window.stopStory = function() {
      speechSynthesis.cancel();
      if (storyInterval) clearInterval(storyInterval);
      storyPlaying = false;
      document.getElementById('storyStatus').textContent = 'Stopped';
    };

    window.replayStory = function() {
      if (!currentStoryId) return;
      const story = storyData[currentStoryId];
      if (!story) return;

      // Restart
      speechSynthesis.cancel();
      if (storyInterval) clearInterval(storyInterval);
      storyLineIndex = 0;
      setTimeout(() => playStory(story), 200);
    };

    window.closeStoryModal = function(event) {
      if (event && event.target !== document.getElementById('storyModalOverlay')) return;
      speechSynthesis.cancel();
      if (storyInterval) clearInterval(storyInterval);
      storyPlaying = false;
      document.getElementById('storyModalOverlay').classList.remove('active');
    };

    // Load voices (needed for some browsers)
    if ('speechSynthesis' in window) {
      speechSynthesis.getVoices();
      speechSynthesis.onvoiceschanged = () => speechSynthesis.getVoices();
    }

    // ========== SIMPLE TOOLTIP SYSTEM ==========
    /*
      LEARNING #2: SVG Hover Flicker Problem
      Never use mouseover/mouseout on SVG elements - causes infinite flicker at edges.
      Solution: Use only onclick/tap events with tooltips positioned OUTSIDE the SVG.
      Keep it simple: detect event → show tooltip → done.
    */
    let openedOrnaments = 0;

    /*
      LEARNING #3: Tooltip Positioning
      Tooltip should appear near activation point, not below SVG where it goes unnoticed.
      Use position:fixed with viewport boundary detection to keep tooltip visible.
    */
    function positionTooltip(tooltip, event) {
      const margin = 12;
      const vw = window.innerWidth;
      const vh = window.innerHeight;

      // Get click position
      let x = event.clientX;
      let y = event.clientY;
      if (event.touches && event.touches[0]) {
        x = event.touches[0].clientX;
        y = event.touches[0].clientY;
      }

      // Show tooltip offscreen to measure
      tooltip.style.left = '-9999px';
      tooltip.style.top = '0';
      tooltip.classList.add('show');
      const tw = tooltip.offsetWidth;
      const th = tooltip.offsetHeight;

      // Position: prefer below and centered on click
      let left = x - (tw / 2);
      let top = y + 15;

      // Keep within viewport horizontally
      if (left < margin) left = margin;
      if (left + tw > vw - margin) left = vw - tw - margin;

      // If no room below, show above
      if (top + th > vh - margin) {
        top = y - th - 15;
      }
      // If still off screen, clamp
      if (top < margin) top = margin;

      tooltip.style.left = left + 'px';
      tooltip.style.top = top + 'px';
    }

    // Journey milestone tooltip
    window.showJourneyTip = function(id, event) {
      event.stopPropagation();
      const data = milestoneData[id];
      if (!data) return;

      const tooltip = document.getElementById('journeyTooltip');
      document.getElementById('journeyStage').textContent = data.stage;
      document.getElementById('journeyQuote').textContent = data.quote;
      document.getElementById('journeyAuthor').textContent = data.author;

      // Toggle
      if (tooltip.classList.contains('show') && tooltip.dataset.current === String(id)) {
        tooltip.classList.remove('show');
        tooltip.dataset.current = '';
      } else {
        positionTooltip(tooltip, event);
        tooltip.dataset.current = id;
      }
    };

    // Tree ornament tooltip
    window.showTreeTip = function(key, event) {
      event.stopPropagation();
      const data = treeData[key];
      if (!data) return;

      const tooltip = document.getElementById('treeTooltip');
      document.getElementById('treeEmoji').innerHTML = data.emoji;
      document.getElementById('treeTitle').textContent = data.title;
      document.getElementById('treeQuote').textContent = data.quote;
      document.getElementById('treeAuthor').textContent = '- ' + data.author;

      // Toggle
      if (tooltip.classList.contains('show') && tooltip.dataset.current === key) {
        tooltip.classList.remove('show');
        tooltip.dataset.current = '';
      } else {
        positionTooltip(tooltip, event);
        tooltip.dataset.current = key;

        // Count opened
        if (!tooltip.dataset.opened) tooltip.dataset.opened = '';
        if (!tooltip.dataset.opened.includes(key)) {
          tooltip.dataset.opened += key + ',';
          openedOrnaments++;
          const counter = document.getElementById('tree-counter');
          if (counter) counter.textContent = `Tap ornaments to unwrap wisdom! ${openedOrnaments}/5 opened`;
        }
      }
    };

    // Close tooltips when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.journey-spot') && !e.target.closest('.svg-tooltip')) {
        const jt = document.getElementById('journeyTooltip');
        if (jt) { jt.classList.remove('show'); jt.dataset.current = ''; }
      }
      if (!e.target.closest('.ornament-spot') && !e.target.closest('.svg-tooltip')) {
        const tt = document.getElementById('treeTooltip');
        if (tt) { tt.classList.remove('show'); tt.dataset.current = ''; }
      }
    });

    /*
      LEARNING #11: Close Tooltips on Scroll
      Stale tooltips confuse users. Always close popups/tooltips when user scrolls.
      Combine with scroll indicator update in same listener for efficiency.
    */
    window.addEventListener('scroll', function() {
      // Close tooltips
      const jt = document.getElementById('journeyTooltip');
      const tt = document.getElementById('treeTooltip');
      if (jt) { jt.classList.remove('show'); jt.dataset.current = ''; }
      if (tt) { tt.classList.remove('show'); tt.dataset.current = ''; }

      // Move reindeer from 10% to 85% of viewport based on scroll
      const reindeer = document.getElementById('scrollReindeer');
      if (reindeer) {
        const scrollTop = window.scrollY;
        const docHeight = document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = docHeight > 0 ? scrollTop / docHeight : 0;
        // Map scroll 0-100% to top 10%-85%
        const topPos = 10 + (scrollPercent * 75);
        reindeer.style.top = topPos + '%';
      }
    }, { passive: true });

    // Personality Quiz
    let quizAnswers = {};
    let currentQuestion = 1;

    document.querySelectorAll('.quiz-option').forEach(opt => {
      opt.addEventListener('click', () => {
        const question = opt.closest('.quiz-question');
        const qNum = question.dataset.question;
        const value = opt.dataset.value;

        question.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
        opt.classList.add('selected');
        quizAnswers[qNum] = value;

        setTimeout(() => {
          if (currentQuestion < 5) {
            question.classList.remove('active');
            currentQuestion++;
            document.querySelector(`[data-question="${currentQuestion}"]`).classList.add('active');
            document.getElementById('quiz-current').textContent = currentQuestion;
            document.getElementById('quiz-progress-bar').style.width = (currentQuestion * 20) + '%';
          } else {
            showQuizResult();
          }
        }, 300);
      });
    });

    function showQuizResult() {
      document.querySelector('.quiz-question.active').classList.remove('active');

      // Count answers
      const counts = { gather: 0, quiet: 0, give: 0, explore: 0 };
      Object.values(quizAnswers).forEach(v => counts[v]++);

      // Find winner
      let winner = 'gather';
      let max = 0;
      for (const [key, count] of Object.entries(counts)) {
        if (count > max) { max = count; winner = key; }
      }

      const result = quizResults[winner];
      document.getElementById('result-icon').innerHTML = result.icon;
      document.getElementById('result-title').textContent = result.title;
      document.getElementById('result-desc').textContent = result.desc;
      document.getElementById('result-quotes').innerHTML = result.quotes.map(q => `
        <div class="rq-item">
          "${q.text}"
          <div class="rq-author">- ${q.author}</div>
        </div>
      `).join('');

      document.getElementById('quiz-result').classList.add('active');
    }

    document.getElementById('quiz-restart').addEventListener('click', () => {
      quizAnswers = {};
      currentQuestion = 1;
      document.getElementById('quiz-result').classList.remove('active');
      document.querySelectorAll('.quiz-question').forEach((q, i) => {
        q.classList.toggle('active', i === 0);
        q.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
      });
      document.getElementById('quiz-current').textContent = 1;
      document.getElementById('quiz-progress-bar').style.width = '20%';
    });

    // Reveal animations on scroll
    function revealOnScroll() {
      document.querySelectorAll('.reveal').forEach(el => {
        const top = el.getBoundingClientRect().top;
        if (top < window.innerHeight - 100) {
          el.classList.add('visible');
        }
      });
    }

    window.addEventListener('scroll', revealOnScroll);

    // ========== CAROUSEL NAVIGATION ==========
    function setupCarousel() {
      const scroller = document.getElementById('moments-container');
      const prevBtn = document.getElementById('moments-prev');
      const nextBtn = document.getElementById('moments-next');

      if (!scroller || !prevBtn || !nextBtn) return;

      const scrollAmount = 300;

      prevBtn.addEventListener('click', () => {
        scroller.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
      });

      nextBtn.addEventListener('click', () => {
        scroller.scrollBy({ left: scrollAmount, behavior: 'smooth' });
      });

      // Update button visibility based on scroll position
      function updateButtons() {
        const atStart = scroller.scrollLeft <= 10;
        const atEnd = scroller.scrollLeft >= scroller.scrollWidth - scroller.clientWidth - 10;
        prevBtn.style.opacity = atStart ? '0.4' : '1';
        nextBtn.style.opacity = atEnd ? '0.4' : '1';
      }

      scroller.addEventListener('scroll', updateButtons);
      setTimeout(updateButtons, 100);
    }

    // ========== INIT ==========
    document.addEventListener('DOMContentLoaded', () => {
      renderQuoteAccordions();
      renderMovies();
      renderMoments();
      renderGlossary();
      renderFAQs();
      setupCarousel();

      // Setup MCQ quizzes
      setupMCQQuiz('origins', mcqData.origins);
      setupMCQQuiz('traditions', mcqData.traditions);
      setupMCQQuiz('culture', mcqData.culture);

      // Initial reveal check
      revealOnScroll();
    });
  </script>
</body>
</html>

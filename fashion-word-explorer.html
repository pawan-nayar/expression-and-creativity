<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fashion Word Explorer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- Basic Reset & Setup --- */
        :root {
            --canvas-size: 85vw;
            --border-color: #ddd;
            --text-color: #333;
            --bg-color: #f9f9f9;
            --header-color: #222;
            --tooltip-bg: #111;
            --tooltip-text: #fff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            min-height: 100vh;
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            overflow-x: hidden;
        }

        /* --- Page Structure --- */
        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            flex-grow: 1;
            padding: 15px 10px;
        }

        header {
            text-align: center;
            margin-bottom: 15px;
            padding: 0 10px;
        }

        header h1 {
            font-size: clamp(1.4rem, 5vw, 2.5rem);
            color: var(--header-color);
            line-height: 1.2;
            margin-bottom: 8px;
        }

        header p {
            font-size: clamp(0.85rem, 3.5vw, 1.1rem);
            color: #666;
            margin-top: 5px;
            line-height: 1.4;
        }

        header .cta-text {
            font-size: clamp(0.95rem, 3.8vw, 1.2rem);
            color: var(--header-color);
            font-weight: 600;
            margin-top: 12px;
        }

        main {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            max-width: 100%;
        }

        /* --- Canvas Area --- */
        canvas {
            width: var(--canvas-size);
            height: var(--canvas-size);
            max-width: min(90vw, 600px);
            max-height: min(90vw, 600px);
            border: 2px dashed var(--border-color);
            background-color: #fff;
            border-radius: 12px;
            cursor: crosshair;
            touch-action: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- Tooltip --- */
        #tooltip {
            position: fixed;
            background-color: var(--tooltip-bg);
            color: var(--tooltip-text);
            padding: 10px 16px;
            border-radius: 8px;
            font-size: clamp(0.85rem, 3.5vw, 1rem);
            font-weight: 600;
            pointer-events: none;
            opacity: 0;
            transform: translate(-50%, -120%);
            transition: opacity 0.2s ease;
            z-index: 100;
            white-space: nowrap;
            box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            max-width: 90vw;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* --- Footer --- */
        footer {
            width: 100%;
            text-align: center;
            padding: 15px 10px;
            font-size: clamp(0.7rem, 2.8vw, 0.85rem);
            color: #888;
            line-height: 1.4;
        }

        /* Mobile optimizations */
        @media (max-width: 480px) {
            :root {
                --canvas-size: 90vw;
            }
            
            .container {
                padding: 10px 5px;
            }

            header {
                margin-bottom: 12px;
            }

            canvas {
                border-width: 1.5px;
                border-radius: 10px;
            }

            #tooltip {
                padding: 8px 14px;
                font-size: 0.9rem;
                border-radius: 6px;
            }
        }

        /* Small tablets */
        @media (min-width: 481px) and (max-width: 768px) {
            :root {
                --canvas-size: 70vw;
            }
            
            canvas {
                max-width: min(70vw, 500px);
                max-height: min(70vw, 500px);
            }
        }

        /* Tablets and larger */
        @media (min-width: 769px) {
            :root {
                --canvas-size: 60vh;
            }

            .container {
                padding: 25px 20px;
            }

            header {
                margin-bottom: 25px;
            }

            canvas {
                max-width: 700px;
                max-height: 700px;
                border-width: 2px;
            }
        }

        /* Desktop */
        @media (min-width: 1024px) {
            :root {
                --canvas-size: 70vh;
            }

            canvas {
                max-width: 800px;
                max-height: 800px;
            }

            #tooltip {
                padding: 10px 18px;
                font-size: 1rem;
            }
        }

        /* Landscape mobile orientation */
        @media (max-width: 768px) and (orientation: landscape) {
            :root {
                --canvas-size: 75vh;
            }

            .container {
                padding: 10px;
            }

            header {
                margin-bottom: 10px;
            }

            header h1 {
                font-size: clamp(1.2rem, 4vw, 1.8rem);
            }

            header p {
                font-size: clamp(0.75rem, 2.5vw, 0.95rem);
            }
        }

        /* === ENHANCED MOBILE OPTIMIZATIONS === */
        
        /* Safe area insets for notched devices (iPhone X+, etc.) */
        @supports (padding: env(safe-area-inset-bottom)) {
            .container {
                padding-left: max(10px, env(safe-area-inset-left));
                padding-right: max(10px, env(safe-area-inset-right));
            }
            
            footer {
                padding-bottom: max(15px, env(safe-area-inset-bottom));
            }
        }
        
        /* Device-specific instruction text */
        .instruction-hover,
        .instruction-tap {
            display: none;
        }
        
        /* Show hover instruction on devices with mouse */
        @media (hover: hover) and (pointer: fine) {
            .instruction-hover { display: inline; }
        }
        
        /* Show tap instruction on touch devices */
        @media (hover: none) and (pointer: coarse) {
            .instruction-tap { display: inline; }
        }
        
        /* Fallback for devices that don't support hover query */
        @media (max-width: 768px) {
            .instruction-hover { display: none !important; }
            .instruction-tap { display: inline !important; }
        }
        
        /* Smooth canvas interaction on mobile */
        @media (max-width: 768px) {
            canvas {
                /* Better touch scrolling prevention */
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                user-select: none;
            }
            
            /* Tooltip adjustments for small screens */
            #tooltip {
                transform: translate(-50%, -130%);
                max-width: 85vw;
                text-align: center;
            }
        }
        
        /* Very small screens (iPhone SE, etc.) */
        @media (max-width: 375px) {
            :root {
                --canvas-size: 95vw;
            }
            
            header h1 {
                font-size: 1.3rem;
            }
            
            header p {
                font-size: 0.8rem;
            }
            
            canvas {
                max-width: 95vw;
                max-height: 95vw;
                border-radius: 8px;
            }
            
            footer {
                font-size: 0.7rem;
                padding: 10px 5px;
            }
            
            #tooltip {
                font-size: 0.85rem;
                padding: 6px 12px;
            }
        }
        
        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --border-color: #000;
                --tooltip-bg: #000;
            }
            
            canvas {
                border-style: solid;
            }
        }
        
        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
            #tooltip {
                transition: none;
            }
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>ðŸ§µ Fashion Word Explorer</h1>
            <p>Explore the language of fashionâ€”every gesture reveals a fresh word.</p>
            <p class="cta-text">
                <span class="instruction-hover">Hover anywhere on the silhouette, then click to surface your next style word.</span>
                <span class="instruction-tap">Tap anywhere on the silhouette and glide to surface your next style word.</span>
            </p>
        </header>
    
        <main>
            <canvas id="fashionCanvas"></canvas>
            <div id="tooltip"></div>
        </main>
    </div>

    <footer>
        <p>&copy; Beyond Dictionary, 2025</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA: 300+ Fashion Terms ---
            const fashionWords = ["dress", "lively", "whatAcut", "walk", "pretty", "shiny clothes", "pink shoes", "fashion show", "color fun", "doll gown", "style", "shirt", "jeans", "Tees", "leather jackets", "cool trendy clothes", "What Makes You", "fashion week", "new shoes", "cotton", "#TheQueenWalks", "shorts", "sandals", "boots", "top model", "The Brilliant Looks", "fancy pants", "vibe", "brand", "fit", "runway look", "fashion trends", "fulltoStyle", "Walk Tall", "Jute bag", "silk scraf", "online haul", "Run Like A Bolt", "street style", "#SHEISBEST", "style icons", "Tuxedo", "Sari", "aesthetic", "culture", "undergarments", "identity", "personal expression", "avant garde", "haute couture", "design evolution", "fashion theory", "saree", "kurta", "Diwali looks", "infant wear", "ethnic wear", "belt", "Bollywood style", "jean jacket", "local boutique", "dupatta flair", "wedding suit", "kidswear", "fashion accessories", "kimono", "silk", "cute", "Harajuku fashion", "kawaii trends", "casual wear", "school uniform", "anime cosplay", "cardigan", "hat", "tech wear", "scarf", "chic", "punk", "Paris runway", "Milan fashion", "vintage store", "royal hat", "fashionista guide", "print", "tribe", "dance", "bead fashion", "colorful fabrics", "Everyday Freedom", "Jaisa Tum Chaho", "local designs", "Ab Stylish Dikho", "wax print", "head wraps", "jeans", "pop", "glam", "embroidery", "streetwear brand", "celeb outfit", "weddingwear", "thrift store", "cowboy boots", "sportswear culture", "Apna Niraala Andaaj", "trend", "clothing", "comfywear", "apparel", "outfit", "couture", "elegance", "fashion", "wardrobe", "look", "flair", "garment", "attire", "Shaan Ki Pehen", "wear", "vogue", "accessory", "feel the softness", "fashion icon", "designer wear", "elegant dress", "bold look", "glam outfit", "Bindaas Chalo", "Textile", "Sequin", "Silhouette", "Bespoke", "Velvet", "#DressCodeCreative", "#TheArtOfStyle", "#SustainableChic", "#RunwayToReality", "#OutfitOfTheDayInspo", "#VogueVibes", "The Boss Code", "Denim", "Bodice", "Glimmer", "Dapper", "Edgy", "Minimalist", "Bohemian", "Glamour", "Palette", "Motif", "Unstitched", "Loom", "Drapery", "Ornament", "Brocade", "Capsule Wardrobe", "Fast Fashion", "Color Palette", "Personal Shopper", "Fashion House", "Ready-to-Wear", "Sustainable Style", "Runway Model", "Mood Board", "Style Guide", "Look Book", "Graphic Tee", "Statement Piece", "Power Dressing", "Athleisure Wear", "Designer Label", "Pattern Making", "Textile Design", "Fashionista Vibe", "Style Setter", "Dress to express", "Your style your story", "Beyond the trend", "Wear your ambition", "Elegance is an attitude", "Define your own fashion", "Style is eternal", "Confidence is the best outfit", "Crafted for you", "Live your runway", "Dress like you're famous", "The art of dressing", "Find your flair", "Fashion for every moment", "Simply beautifully you", "Own your look", "Threads of confidence", "Where style begins", "More than just clothes", "Express your inner icon", "#WearYourStory", "#ThreadsOfJoy", "#MyStyleNarrative", "#FashionForwardThinking", "#CoutureCulture", "#StreetStyleSaga", "#ChicHappens", "#FabricFantasy", "#GlamGoals", "#StyleSculptor", "#EthnicElegance", "#DenimDiaries", "#BespokeBeauty", "#FashionFrame", "style evolution", "vintage flair", "casual chic", "runway debut", "fabric texture", "bold prints", "seasonal vibe"];

            // --- Canvas & DOM Elements ---
            const canvas = document.getElementById('fashionCanvas');
            const ctx = canvas.getContext('2d', { willReadFrequently: true });
            const tooltip = document.getElementById('tooltip');

            // --- Configuration ---
            const GRID_SIZE = 50; // 50x50 grid
            let currentEmoji = 'ðŸ‘—'; // Default, can be changed
            let imageDataCache = null;
            let canvasRect;

            /**
             * Sets up the canvas, draws the emoji, and caches its pixel data.
             * This function is responsive and redraws on window resize.
             */
            function setupCanvas() {
                // Get the actual size of the canvas from CSS (e.g., 76vh)
                const size = canvas.getBoundingClientRect().width;
                
                // Set the canvas drawing buffer size to match its display size to avoid distortion
                canvas.width = size;
                canvas.height = size;
                canvasRect = canvas.getBoundingClientRect();

                // Clear canvas before drawing
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // Configure font for drawing the emoji
                // The font size is proportional to the canvas size to fill it
                const fontSize = canvas.width * 0.85; 
                ctx.font = `${fontSize}px sans-serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                // Draw the emoji in the center
                ctx.fillText(currentEmoji, canvas.width / 2, canvas.height / 2);

                // Cache the pixel data for fast lookups on mousemove
                // This is the key to silhouette detection
                try {
                    imageDataCache = ctx.getImageData(0, 0, canvas.width, canvas.height);
                } catch (e) {
                    console.error("Could not get image data:", e);
                    // This can happen due to cross-origin issues if the canvas is tainted,
                    // but is unlikely here since we are drawing the emoji ourselves.
                }
            }
            
            /**
             * Handles pointer interactions (mouse or touch) on the canvas to show/hide tooltips.
             * @param {MouseEvent|TouchEvent} e - The pointer event.
             */
            function handlePointerMove(e) {
                if (!imageDataCache) return;

                // Handle both mouse and touch events
                let clientX, clientY;
                if (e.type.startsWith('touch')) {
                    if (e.touches.length === 0) return;
                    e.preventDefault(); // Prevent scrolling while touching canvas
                    clientX = e.touches[0].clientX;
                    clientY = e.touches[0].clientY;
                } else {
                    clientX = e.clientX;
                    clientY = e.clientY;
                }

                // Get coordinates relative to the canvas
                const x = clientX - canvasRect.left;
                const y = clientY - canvasRect.top;

                // Ensure the pointer is within the canvas bounds
                if (x < 0 || y < 0 || x >= canvas.width || y >= canvas.height) {
                    tooltip.style.opacity = '0';
                    return;
                }

                // Check the alpha of the pixel under the cursor
                // Each pixel is 4 values (R,G,B,A) in the data array
                const pixelIndex = (Math.floor(y) * canvas.width + Math.floor(x)) * 4;
                const alpha = imageDataCache.data[pixelIndex + 3];

                // If pixel is transparent (not part of the emoji), hide tooltip
                if (alpha < 50) { // Using a threshold to be safe
                    tooltip.style.opacity = '0';
                    return;
                }
                
                // --- If pixel is visible, show and position the tooltip ---

                // Calculate which grid cell the pointer is in
                const cellWidth = canvas.width / GRID_SIZE;
                const cellHeight = canvas.height / GRID_SIZE;
                const cellX = Math.floor(x / cellWidth);
                const cellY = Math.floor(y / cellHeight);

                // Get the word for that cell using the repeating modulo pattern
                const wordIndex = (cellY * GRID_SIZE + cellX) % fashionWords.length;
                tooltip.textContent = fashionWords[wordIndex];

                // Position the tooltip at the top-center of the hovered cell
                // We use clientX/clientY for positioning relative to viewport
                const tooltipX = canvasRect.left + (cellX * cellWidth) + (cellWidth / 2);
                const tooltipY = canvasRect.top + (cellY * cellHeight);

                tooltip.style.left = `${tooltipX}px`;
                tooltip.style.top = `${tooltipY}px`;
                tooltip.style.opacity = '1';
            }
            
            /**
             * Hides the tooltip when the pointer leaves the canvas.
             */
            function handlePointerLeave() {
                tooltip.style.opacity = '0';
            }

            /**
             * Updates canvas rect on window resize or orientation change
             */
            function updateCanvasRect() {
                setupCanvas();
            }


            // --- Event Listeners ---
            // Resize and orientation change
            window.addEventListener('resize', updateCanvasRect);
            window.addEventListener('orientationchange', () => {
                setTimeout(updateCanvasRect, 100);
            });

            // Mouse events
            canvas.addEventListener('mousemove', handlePointerMove);
            canvas.addEventListener('mouseleave', handlePointerLeave);

            // Touch events for mobile
            canvas.addEventListener('touchstart', handlePointerMove, { passive: false });
            canvas.addEventListener('touchmove', handlePointerMove, { passive: false });
            canvas.addEventListener('touchend', handlePointerLeave);
            canvas.addEventListener('touchcancel', handlePointerLeave);

            // --- Initial Setup ---
            setupCanvas();
        });
    </script>

</body>
</html>
